<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>dfsch: dfsch/parse.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>dfsch/parse.h File Reference</h1><code>#include &lt;<a class="el" href="dfsch_8h_source.html">dfsch/dfsch.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="ports_8h_source.html">dfsch/ports.h</a>&gt;</code><br>

<p>
<div class="dynheader">
Include dependency graph for parse.h:</div>
<div class="dynsection">
<p><center><img src="parse_8h__incl.png" border="0" usemap="#dfsch/parse.h_map" alt=""></center>
<map name="dfsch/parse.h_map">
<area shape="rect" href="dfsch_8h.html" title="dfsch/dfsch.h" alt="" coords="519,161,623,188"><area shape="rect" href="ports_8h.html" title="dfsch/ports.h" alt="" coords="661,84,765,111"><area shape="rect" href="defines_8h.html" title="dfsch/defines.h" alt="" coords="315,239,432,265"><area shape="rect" href="number_8h.html" title="dfsch/number.h" alt="" coords="547,239,667,265"><area shape="rect" href="dfsch_2types_8h.html" title="dfsch/types.h" alt="" coords="5,239,112,265"><area shape="rect" href="writer_8h.html" title="dfsch/writer.h" alt="" coords="136,239,240,265"><area shape="rect" href="strings_8h.html" title="dfsch/strings.h" alt="" coords="691,239,805,265"></map>
</div>

<p>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<p><center><img src="parse_8h__dep__incl.png" border="0" usemap="#dfsch/parse.hdep_map" alt=""></center>
<map name="dfsch/parse.hdep_map">
<area shape="rect" href="console_8h.html" title="dfsch/lib/console.h" alt="" coords="132,84,271,111"><area shape="rect" href="console_8c.html" title="lib/console.c" alt="" coords="285,161,384,188"><area shape="rect" href="dfsch_8c.html" title="src/dfsch.c" alt="" coords="363,84,451,111"><area shape="rect" href="load_8c.html" title="src/load.c" alt="" coords="475,84,557,111"><area shape="rect" href="parse_8c.html" title="src/parse.c" alt="" coords="581,84,672,111"><area shape="rect" href="ports_8c.html" title="src/ports.c" alt="" coords="696,84,784,111"><area shape="rect" href="repl_8c.html" title="src/repl.c" alt="" coords="808,84,888,111"><area shape="rect" href="cdebug_8c.html" title="lib/cdebug.c" alt="" coords="5,161,101,188"><area shape="rect" href="console__mod_8c.html" title="lib/console_mod.c" alt="" coords="125,161,261,188"></map>
</div>

<p>
<a href="parse_8h_source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#896f13f8ba978be79b4a52192ade131f">DFSCH_PARSER_CAR_EXPECTED</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#c321f98e7c3e76f451ec9b2915d5c324">DFSCH_PARSER_INVALID_ESCAPE</a>&nbsp;&nbsp;&nbsp;6</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#ecacafec88b21fad163e30595efbc7b7">DFSCH_PARSER_INVALID_NUMBER</a>&nbsp;&nbsp;&nbsp;7</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#86d98e8663f83349501879f7b24b3257">DFSCH_PARSER_LIST_EXPECTED</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#629f8644dd3e46a7c2401b3b9a2b56d9">DFSCH_PARSER_NOERROR</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#2117bc43f910c5b37f41c0b26146794f">DFSCH_PARSER_NULL</a>&nbsp;&nbsp;&nbsp;254</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#4c1effd2773601b0ce33835d4c609f0e">DFSCH_PARSER_STOPPED</a>&nbsp;&nbsp;&nbsp;255</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#ba5f9b9fd41a3ff5983ecaa177a238e3">DFSCH_PARSER_UNEXPECTED_CLOSE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#9d61751911d6b1bcaa1dce8ee341105b">DFSCH_PARSER_UNEXPECTED_DOT</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#92ae83a3b32de0c5252cc14a6cb96b40">DFSCH_PARSER_UNEXPECTED_OBJECT</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#42458899bc62475b7625ce4c54d9dc7d">DFSCH_PARSER_UNREADABLE</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#40c5e16d9a56a4401f75fec07e67178f">dfsch_parser_callback_t</a> )(<a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *obj, void *baton)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#c3912bbde87fa22a0db5d7b3cd2855b6">dfsch_parser_ctx_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#ee88ca2c9c1a46a176d460717561b0af">dfsch_parser_directive_t</a> )(<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx, <a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *args, void *baton)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#373fd70de5ca178dddb7438f12d5a650">dfsch_parser_callback</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx, <a class="el" href="parse_8h.html#40c5e16d9a56a4401f75fec07e67178f">dfsch_parser_callback_t</a> callback, void *baton)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#d9f9c046da6aeb971a9860632ce51332">dfsch_parser_clear_directives</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#c521f994092cef330f3c589e5ed14a5d">dfsch_parser_clear_symbols</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#e3c2bad9a7c1e0a3ffa16b3bb312c9a3">dfsch_parser_create</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#9559714988ce9f652c60d200d7bca75c">dfsch_parser_define_default_directives</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#ad1e9fdfee3188052c289111baefd11c">dfsch_parser_define_directive_cstr</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx, char *tag, <a class="el" href="parse_8h.html#ee88ca2c9c1a46a176d460717561b0af">dfsch_parser_directive_t</a> directive, void *baton)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#5655f0170984d6a965acfe94064d5619">dfsch_parser_define_symbol</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx, char *name, <a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *symbol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#a873a326dd1411238523c6c0c3e5ebf4">dfsch_parser_eval_env</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx, <a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *env)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#56151f6369a3eae859a18fe3961da46f">dfsch_parser_feed</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx, char *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#01827304c64538a65d0ec1aae49dd838">dfsch_parser_feed_line</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx, char *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#22ff81bbce3e7b869df2672e408d4a39">dfsch_parser_get_level</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#a7addc7845693493a24c48b48f76d2ad">dfsch_parser_import_symbol</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx, <a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *symbol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#3feaf21461b37c06d4642f5d9004a1c2">dfsch_parser_parse_object</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx, <a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *obj)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#2d90869bb1de02e67cc7f9f5c727b19c">dfsch_parser_read_from_port</a> (<a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *port)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#f9923c120e7210be727b2be4448095cb">dfsch_parser_reset</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#e6116d0794c03a0aa105637400207870">dfsch_parser_set_source</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx, <a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *source)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#9a5a1e760704524063525087332c5962">dfsch_parser_top_level</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="parse_8h.html#78996c52859c0414e9a149f947a546b4">dfsch_parser_undefine_symbol</a> (<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx, char *name)</td></tr>

</table>
<hr><h2>Detailed Description</h2>
Stream based S-expression parser. 
<p>Definition in file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="896f13f8ba978be79b4a52192ade131f"></a><!-- doxytag: member="parse.h::DFSCH_PARSER_CAR_EXPECTED" ref="896f13f8ba978be79b4a52192ade131f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DFSCH_PARSER_CAR_EXPECTED&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00042">42</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="c321f98e7c3e76f451ec9b2915d5c324"></a><!-- doxytag: member="parse.h::DFSCH_PARSER_INVALID_ESCAPE" ref="c321f98e7c3e76f451ec9b2915d5c324" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DFSCH_PARSER_INVALID_ESCAPE&nbsp;&nbsp;&nbsp;6          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00044">44</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ecacafec88b21fad163e30595efbc7b7"></a><!-- doxytag: member="parse.h::DFSCH_PARSER_INVALID_NUMBER" ref="ecacafec88b21fad163e30595efbc7b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DFSCH_PARSER_INVALID_NUMBER&nbsp;&nbsp;&nbsp;7          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00045">45</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="86d98e8663f83349501879f7b24b3257"></a><!-- doxytag: member="parse.h::DFSCH_PARSER_LIST_EXPECTED" ref="86d98e8663f83349501879f7b24b3257" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DFSCH_PARSER_LIST_EXPECTED&nbsp;&nbsp;&nbsp;5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00043">43</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="629f8644dd3e46a7c2401b3b9a2b56d9"></a><!-- doxytag: member="parse.h::DFSCH_PARSER_NOERROR" ref="629f8644dd3e46a7c2401b3b9a2b56d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DFSCH_PARSER_NOERROR&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00038">38</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="2117bc43f910c5b37f41c0b26146794f"></a><!-- doxytag: member="parse.h::DFSCH_PARSER_NULL" ref="2117bc43f910c5b37f41c0b26146794f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DFSCH_PARSER_NULL&nbsp;&nbsp;&nbsp;254          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00047">47</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="4c1effd2773601b0ce33835d4c609f0e"></a><!-- doxytag: member="parse.h::DFSCH_PARSER_STOPPED" ref="4c1effd2773601b0ce33835d4c609f0e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DFSCH_PARSER_STOPPED&nbsp;&nbsp;&nbsp;255          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00048">48</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

<p>Referenced by <a class="el" href="load_8c_source.html#l00312">dfsch_read_scm_fd()</a>, <a class="el" href="load_8c_source.html#l00345">dfsch_read_scm_stream()</a>, and <a class="el" href="dfsch_8c_source.html#l02163">dfsch_string_2_object_list()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ba5f9b9fd41a3ff5983ecaa177a238e3"></a><!-- doxytag: member="parse.h::DFSCH_PARSER_UNEXPECTED_CLOSE" ref="ba5f9b9fd41a3ff5983ecaa177a238e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DFSCH_PARSER_UNEXPECTED_CLOSE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00039">39</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="9d61751911d6b1bcaa1dce8ee341105b"></a><!-- doxytag: member="parse.h::DFSCH_PARSER_UNEXPECTED_DOT" ref="9d61751911d6b1bcaa1dce8ee341105b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DFSCH_PARSER_UNEXPECTED_DOT&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00040">40</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="92ae83a3b32de0c5252cc14a6cb96b40"></a><!-- doxytag: member="parse.h::DFSCH_PARSER_UNEXPECTED_OBJECT" ref="92ae83a3b32de0c5252cc14a6cb96b40" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DFSCH_PARSER_UNEXPECTED_OBJECT&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00041">41</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="42458899bc62475b7625ce4c54d9dc7d"></a><!-- doxytag: member="parse.h::DFSCH_PARSER_UNREADABLE" ref="42458899bc62475b7625ce4c54d9dc7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DFSCH_PARSER_UNREADABLE&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00046">46</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="40c5e16d9a56a4401f75fec07e67178f"></a><!-- doxytag: member="parse.h::dfsch_parser_callback_t" ref="40c5e16d9a56a4401f75fec07e67178f" args=")(dfsch_object_t *obj, void *baton)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="parse_8h.html#40c5e16d9a56a4401f75fec07e67178f">dfsch_parser_callback_t</a>)(<a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *obj, void *baton)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00051">51</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="c3912bbde87fa22a0db5d7b3cd2855b6"></a><!-- doxytag: member="parse.h::dfsch_parser_ctx_t" ref="c3912bbde87fa22a0db5d7b3cd2855b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> <a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00050">50</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ee88ca2c9c1a46a176d460717561b0af"></a><!-- doxytag: member="parse.h::dfsch_parser_directive_t" ref="ee88ca2c9c1a46a176d460717561b0af" args=")(dfsch_parser_ctx_t *ctx, dfsch_object_t *args, void *baton)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="parse_8h.html#ee88ca2c9c1a46a176d460717561b0af">dfsch_parser_directive_t</a>)(<a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx, <a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *args, void *baton)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8h_source.html#l00052">52</a> of file <a class="el" href="parse_8h_source.html">parse.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="373fd70de5ca178dddb7438f12d5a650"></a><!-- doxytag: member="parse.h::dfsch_parser_callback" ref="373fd70de5ca178dddb7438f12d5a650" args="(dfsch_parser_ctx_t *ctx, dfsch_parser_callback_t callback, void *baton)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfsch_parser_callback           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="parse_8h.html#40c5e16d9a56a4401f75fec07e67178f">dfsch_parser_callback_t</a>&nbsp;</td>
          <td class="paramname"> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>baton</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets callback for complete objects parsed. 
<p>Definition at line <a class="el" href="parse_8c_source.html#l00290">290</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="parse_8c_source.html#l00162">dfsch_parser_ctx_t::baton</a>, and <a class="el" href="parse_8c_source.html#l00163">dfsch_parser_ctx_t::callback</a>.</p>

<p>Referenced by <a class="el" href="console_8c_source.html#l00169">dfsch_console_read_object()</a>, <a class="el" href="console_8c_source.html#l00224">dfsch_console_read_objects()</a>, <a class="el" href="parse_8c_source.html#l01124">dfsch_parser_read_from_port()</a>, <a class="el" href="load_8c_source.html#l00312">dfsch_read_scm_fd()</a>, <a class="el" href="load_8c_source.html#l00345">dfsch_read_scm_stream()</a>, <a class="el" href="dfsch_8c_source.html#l02163">dfsch_string_2_object_list()</a>, and <a class="el" href="repl_8c_source.html#l00121">noninteractive_repl()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00292"></a>00292                                        {
<a name="l00293"></a>00293 
<a name="l00294"></a>00294   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#6ffb948673c50599e09bc58a6f255fcb">callback</a> = callback;
<a name="l00295"></a>00295   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#36524a7d9289a9a79e4db995ca17d03b">baton</a> = baton;
<a name="l00296"></a>00296 
<a name="l00297"></a>00297 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d9f9c046da6aeb971a9860632ce51332"></a><!-- doxytag: member="parse.h::dfsch_parser_clear_directives" ref="d9f9c046da6aeb971a9860632ce51332" args="(dfsch_parser_ctx_t *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfsch_parser_clear_directives           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8c_source.html#l00321">321</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="parse_8c_source.html#l00171">dfsch_parser_ctx_t::directives</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00321"></a>00321                                                            {
<a name="l00322"></a>00322   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#6523f2257ce4b629c9e31c5c83e59b57">directives</a> = NULL;
<a name="l00323"></a>00323 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c521f994092cef330f3c589e5ed14a5d"></a><!-- doxytag: member="parse.h::dfsch_parser_clear_symbols" ref="c521f994092cef330f3c589e5ed14a5d" args="(dfsch_parser_ctx_t *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfsch_parser_clear_symbols           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8c_source.html#l00324">324</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="parse_8c_source.html#l00170">dfsch_parser_ctx_t::symbol_map</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00324"></a>00324                                                         {
<a name="l00325"></a>00325   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#5895bf8dfadaec6b0d6ff5b06d4240f8">symbol_map</a> = NULL;
<a name="l00326"></a>00326 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e3c2bad9a7c1e0a3ffa16b3bb312c9a3"></a><!-- doxytag: member="parse.h::dfsch_parser_create" ref="e3c2bad9a7c1e0a3ffa16b3bb312c9a3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a>* dfsch_parser_create           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates new parser instance 
<p>Definition at line <a class="el" href="parse_8c_source.html#l00198">198</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="parse_8c_source.html#l00168">dfsch_parser_ctx_t::column</a>, <a class="el" href="parse_8c_source.html#l00053">create_queue()</a>, <a class="el" href="parse_8c_source.html#l00339">dfsch_parser_define_default_directives()</a>, <a class="el" href="parse_8c_source.html#l00172">dfsch_parser_ctx_t::env</a>, <a class="el" href="parse_8c_source.html#l00165">dfsch_parser_ctx_t::error</a>, <a class="el" href="parse_8c_source.html#l00166">dfsch_parser_ctx_t::level</a>, <a class="el" href="parse_8c_source.html#l00167">dfsch_parser_ctx_t::line</a>, <a class="el" href="parse_8c_source.html#l00160">dfsch_parser_ctx_t::parser</a>, <a class="el" href="parse_8c_source.html#l00148">dfsch_parser_ctx_t::q</a>, <a class="el" href="parse_8c_source.html#l00170">dfsch_parser_ctx_t::symbol_map</a>, and <a class="el" href="structdfsch__parser__ctx__t.html#20e9956a7ddcb224ebf81c841f28e0d5">dfsch_parser_ctx_t::tokenizer_state</a>.</p>

<p>Referenced by <a class="el" href="console_8c_source.html#l00169">dfsch_console_read_object()</a>, <a class="el" href="console_8c_source.html#l00224">dfsch_console_read_objects()</a>, <a class="el" href="parse_8c_source.html#l01124">dfsch_parser_read_from_port()</a>, <a class="el" href="load_8c_source.html#l00312">dfsch_read_scm_fd()</a>, <a class="el" href="load_8c_source.html#l00345">dfsch_read_scm_stream()</a>, <a class="el" href="dfsch_8c_source.html#l02163">dfsch_string_2_object_list()</a>, and <a class="el" href="repl_8c_source.html#l00121">noninteractive_repl()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00198"></a>00198                                          {
<a name="l00199"></a>00199   <a class="code" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *ctx = GC_MALLOC(<span class="keyword">sizeof</span>(<a class="code" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a>));
<a name="l00200"></a>00200   <span class="keywordflow">if</span> (!ctx)
<a name="l00201"></a>00201     <span class="keywordflow">return</span> NULL;
<a name="l00202"></a>00202 
<a name="l00203"></a>00203   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#59ffad4bab782058502ed1e5bf69c635">q</a> = <a class="code" href="parse_8c.html#49888fa0b9765e2c113be2a1681dd0f7">create_queue</a>();
<a name="l00204"></a>00204   <span class="keywordflow">if</span> (!ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#59ffad4bab782058502ed1e5bf69c635">q</a>){
<a name="l00205"></a>00205     <span class="keywordflow">return</span> NULL;
<a name="l00206"></a>00206   }
<a name="l00207"></a>00207 
<a name="l00208"></a>00208   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#20e9956a7ddcb224ebf81c841f28e0d5">tokenizer_state</a> = T_NONE;
<a name="l00209"></a>00209   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#15031baf6c3ec8e289fcaabf58fcc080">parser</a> = NULL;
<a name="l00210"></a>00210 
<a name="l00211"></a>00211   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#f6b92adfdbb84473dc61dfdd977afaae">line</a> = 1;
<a name="l00212"></a>00212   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#e583bae9c2c2b1402a6829c3178ad21a">column</a> = 1;
<a name="l00213"></a>00213 
<a name="l00214"></a>00214   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#d03c60efe6e72b6b6b5ee6868ef68d12">level</a> = 0 ;
<a name="l00215"></a>00215   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#ddb1484f99aff3924f695065ba71beec">error</a> = 0;
<a name="l00216"></a>00216 
<a name="l00217"></a>00217   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#5895bf8dfadaec6b0d6ff5b06d4240f8">symbol_map</a> = NULL;
<a name="l00218"></a>00218   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#dcd1c1e9231cec76d116b5473c77d031">env</a> = 0;
<a name="l00219"></a>00219   <a class="code" href="parse_8h.html#9559714988ce9f652c60d200d7bca75c">dfsch_parser_define_default_directives</a>(ctx);
<a name="l00220"></a>00220 
<a name="l00221"></a>00221   <span class="keywordflow">return</span> ctx;
<a name="l00222"></a>00222 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9559714988ce9f652c60d200d7bca75c"></a><!-- doxytag: member="parse.h::dfsch_parser_define_default_directives" ref="9559714988ce9f652c60d200d7bca75c" args="(dfsch_parser_ctx_t *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfsch_parser_define_default_directives           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8c_source.html#l00339">339</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="parse_8c_source.html#l00315">dfsch_parser_define_directive_cstr()</a>, <a class="el" href="parse_8c_source.html#l00328">directive_import()</a>, and <a class="el" href="parse_8c_source.html#l00171">dfsch_parser_ctx_t::directives</a>.</p>

<p>Referenced by <a class="el" href="parse_8c_source.html#l00198">dfsch_parser_create()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00339"></a>00339                                                                     {
<a name="l00340"></a>00340   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#6523f2257ce4b629c9e31c5c83e59b57">directives</a> = NULL;
<a name="l00341"></a>00341   <a class="code" href="parse_8h.html#ad1e9fdfee3188052c289111baefd11c">dfsch_parser_define_directive_cstr</a>(ctx, <span class="stringliteral">"import"</span>, <a class="code" href="parse_8c.html#ab2ebd2fea878a3c97ccbb7d93cebe18">directive_import</a>, NULL);
<a name="l00342"></a>00342 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ad1e9fdfee3188052c289111baefd11c"></a><!-- doxytag: member="parse.h::dfsch_parser_define_directive_cstr" ref="ad1e9fdfee3188052c289111baefd11c" args="(dfsch_parser_ctx_t *ctx, char *tag, dfsch_parser_directive_t directive, void *baton)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfsch_parser_define_directive_cstr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="parse_8h.html#ee88ca2c9c1a46a176d460717561b0af">dfsch_parser_directive_t</a>&nbsp;</td>
          <td class="paramname"> <em>directive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>baton</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8c_source.html#l00315">315</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="dfsch_8c_source.html#l01772">dfsch_make_symbol()</a>, and <a class="el" href="parse_8c_source.html#l00302">dfsch_parser_define_directive()</a>.</p>

<p>Referenced by <a class="el" href="parse_8c_source.html#l00339">dfsch_parser_define_default_directives()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00318"></a>00318                                                     {
<a name="l00319"></a>00319   <a class="code" href="parse_8c.html#167128a3906360e02d2439eb6e385213">dfsch_parser_define_directive</a>(ctx, <a class="code" href="dfsch_8h.html#f089f50dde23f0a132670368a9e341d5">dfsch_make_symbol</a>(tag), directive, baton);
<a name="l00320"></a>00320 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5655f0170984d6a965acfe94064d5619"></a><!-- doxytag: member="parse.h::dfsch_parser_define_symbol" ref="5655f0170984d6a965acfe94064d5619" args="(dfsch_parser_ctx_t *ctx, char *name, dfsch_object_t *symbol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfsch_parser_define_symbol           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td>
          <td class="paramname"> <em>symbol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8c_source.html#l00237">237</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="src_2util_8h_source.html#l00054">ascii_strcasecmp</a>, <a class="el" href="parse_8c_source.html#l00113">symbol_map_t::name</a>, <a class="el" href="parse_8c_source.html#l00115">symbol_map_t::next</a>, <a class="el" href="parse_8c_source.html#l00114">symbol_map_t::symbol</a>, and <a class="el" href="parse_8c_source.html#l00170">dfsch_parser_ctx_t::symbol_map</a>.</p>

<p>Referenced by <a class="el" href="parse_8c_source.html#l00279">dfsch_parser_import_symbol()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00239"></a>00239                                                        {
<a name="l00240"></a>00240   <a class="code" href="structsymbol__map__t.html">symbol_map_t</a>* entry;
<a name="l00241"></a>00241 
<a name="l00242"></a>00242   entry = ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#5895bf8dfadaec6b0d6ff5b06d4240f8">symbol_map</a>;
<a name="l00243"></a>00243   <span class="keywordflow">while</span> (entry) {
<a name="l00244"></a>00244     <span class="keywordflow">if</span> (<a class="code" href="src_2util_8h.html#0202e34456d2afa82431835aefa51011">ascii_strcasecmp</a>(name, entry-&gt;<a class="code" href="structsymbol__map__t.html#f8e19f5d131fb535db015c68a50c361b">name</a>) == 0){
<a name="l00245"></a>00245       entry-&gt;<a class="code" href="structsymbol__map__t.html#b12a82ac2f5a0d03a4c87b58de2d2561">symbol</a> = symbol;
<a name="l00246"></a>00246       <span class="keywordflow">return</span>;
<a name="l00247"></a>00247     }
<a name="l00248"></a>00248     entry = entry-&gt;<a class="code" href="structsymbol__map__t.html#cf4eefd5c608800d1af7a225490a1d51">next</a>;
<a name="l00249"></a>00249   }
<a name="l00250"></a>00250 
<a name="l00251"></a>00251   entry = GC_NEW(<a class="code" href="structsymbol__map__t.html">symbol_map_t</a>);
<a name="l00252"></a>00252   entry-&gt;<a class="code" href="structsymbol__map__t.html#b12a82ac2f5a0d03a4c87b58de2d2561">symbol</a> = symbol;
<a name="l00253"></a>00253   entry-&gt;<a class="code" href="structsymbol__map__t.html#f8e19f5d131fb535db015c68a50c361b">name</a> = name;
<a name="l00254"></a>00254 
<a name="l00255"></a>00255   entry-&gt;<a class="code" href="structsymbol__map__t.html#cf4eefd5c608800d1af7a225490a1d51">next</a> = ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#5895bf8dfadaec6b0d6ff5b06d4240f8">symbol_map</a>;
<a name="l00256"></a>00256   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#5895bf8dfadaec6b0d6ff5b06d4240f8">symbol_map</a> = entry;
<a name="l00257"></a>00257 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="a873a326dd1411238523c6c0c3e5ebf4"></a><!-- doxytag: member="parse.h::dfsch_parser_eval_env" ref="a873a326dd1411238523c6c0c3e5ebf4" args="(dfsch_parser_ctx_t *ctx, dfsch_object_t *env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfsch_parser_eval_env           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8c_source.html#l00298">298</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="parse_8c_source.html#l00172">dfsch_parser_ctx_t::env</a>.</p>

<p>Referenced by <a class="el" href="load_8c_source.html#l00312">dfsch_read_scm_fd()</a>, and <a class="el" href="load_8c_source.html#l00345">dfsch_read_scm_stream()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00299"></a>00299                                                {
<a name="l00300"></a>00300   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#dcd1c1e9231cec76d116b5473c77d031">env</a> = env;
<a name="l00301"></a>00301 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="56151f6369a3eae859a18fe3961da46f"></a><!-- doxytag: member="parse.h::dfsch_parser_feed" ref="56151f6369a3eae859a18fe3961da46f" args="(dfsch_parser_ctx_t *ctx, char *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dfsch_parser_feed           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Feed some data into parser. 
<p>Definition at line <a class="el" href="parse_8c_source.html#l01061">1061</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="magic_8h_source.html#l00211">DFSCH_PROTECT</a>, <a class="el" href="magic_8h_source.html#l00217">DFSCH_PROTECT_END</a>, <a class="el" href="magic_8h_source.html#l00205">DFSCH_UNWIND</a>, <a class="el" href="magic_8h_source.html#l00215">DFSCH_UNWIND_DETECT</a>, <a class="el" href="parse_8c_source.html#l00165">dfsch_parser_ctx_t::error</a>, <a class="el" href="parse_8c_source.html#l00066">feed_queue()</a>, <a class="el" href="parse_8c_source.html#l00063">get_queue()</a>, <a class="el" href="parse_8c_source.html#l00176">parser_reset()</a>, <a class="el" href="parse_8c_source.html#l00148">dfsch_parser_ctx_t::q</a>, and <a class="el" href="parse_8c_source.html#l00735">tokenizer_process()</a>.</p>

<p>Referenced by <a class="el" href="parse_8c_source.html#l01084">dfsch_parser_feed_catch()</a>, <a class="el" href="parse_8c_source.html#l01075">dfsch_parser_feed_line()</a>, <a class="el" href="parse_8c_source.html#l01124">dfsch_parser_read_from_port()</a>, <a class="el" href="load_8c_source.html#l00312">dfsch_read_scm_fd()</a>, <a class="el" href="load_8c_source.html#l00345">dfsch_read_scm_stream()</a>, and <a class="el" href="dfsch_8c_source.html#l02163">dfsch_string_2_object_list()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01061"></a>01061                                                           {
<a name="l01062"></a>01062   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#ddb1484f99aff3924f695065ba71beec">error</a> = 0;
<a name="l01063"></a>01063   <a class="code" href="magic_8h.html#82cd868419a090568e33e92c446c3e53">DFSCH_UNWIND</a>{
<a name="l01064"></a>01064   <a class="code" href="parse_8c.html#9dc7027ae9a5477a31ae6d49e71d3bce">feed_queue</a>(ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#59ffad4bab782058502ed1e5bf69c635">q</a>, data);
<a name="l01065"></a>01065 
<a name="l01066"></a>01066   <a class="code" href="parse_8c.html#82e39e8126bb0b9274d3879c679d5cfe">tokenizer_process</a>(ctx, <a class="code" href="parse_8c.html#b5459c4697d7febc0d09a7dba4159ed9">get_queue</a>(ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#59ffad4bab782058502ed1e5bf69c635">q</a>));
<a name="l01067"></a>01067   }<a class="code" href="magic_8h.html#d8e48f6756bc7f7204832377ca25ea6a">DFSCH_PROTECT</a>{
<a name="l01068"></a>01068     
<a name="l01069"></a>01069   }<a class="code" href="magic_8h.html#6a03aec1dcdc2077b17e95491b01449f">DFSCH_UNWIND_DETECT</a>{
<a name="l01070"></a>01070     <a class="code" href="parse_8c.html#04ceb9c8b40c77906fccac3878a1dca2">parser_reset</a>(ctx);
<a name="l01071"></a>01071   }<a class="code" href="magic_8h.html#de8490c2332755cf283e447775432801">DFSCH_PROTECT_END</a>;
<a name="l01072"></a>01072 
<a name="l01073"></a>01073   <span class="keywordflow">return</span> ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#ddb1484f99aff3924f695065ba71beec">error</a>;
<a name="l01074"></a>01074 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="01827304c64538a65d0ec1aae49dd838"></a><!-- doxytag: member="parse.h::dfsch_parser_feed_line" ref="01827304c64538a65d0ec1aae49dd838" args="(dfsch_parser_ctx_t *ctx, char *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dfsch_parser_feed_line           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8c_source.html#l01075">1075</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="parse_8c_source.html#l01061">dfsch_parser_feed()</a>.</p>

<p>Referenced by <a class="el" href="console_8c_source.html#l00169">dfsch_console_read_object()</a>, and <a class="el" href="console_8c_source.html#l00195">dfsch_console_read_objects_parser()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01075"></a>01075                                                                {
<a name="l01076"></a>01076   <span class="keywordtype">int</span> ret;
<a name="l01077"></a>01077   <span class="keywordflow">if</span> (ret = <a class="code" href="parse_8h.html#56151f6369a3eae859a18fe3961da46f">dfsch_parser_feed</a>(ctx, data)){
<a name="l01078"></a>01078     <span class="keywordflow">return</span> ret;
<a name="l01079"></a>01079   }
<a name="l01080"></a>01080   <span class="keywordflow">return</span> <a class="code" href="parse_8h.html#56151f6369a3eae859a18fe3961da46f">dfsch_parser_feed</a>(ctx, <span class="stringliteral">"\n"</span>);
<a name="l01081"></a>01081 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="22ff81bbce3e7b869df2672e408d4a39"></a><!-- doxytag: member="parse.h::dfsch_parser_get_level" ref="22ff81bbce3e7b869df2672e408d4a39" args="(dfsch_parser_ctx_t *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dfsch_parser_get_level           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get nesting level (i.e. some value proportional to depth of parser stack) 
<p>Definition at line <a class="el" href="parse_8c_source.html#l01092">1092</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="parse_8c_source.html#l00166">dfsch_parser_ctx_t::level</a>.</p>

<p>Referenced by <a class="el" href="load_8c_source.html#l00312">dfsch_read_scm_fd()</a>, <a class="el" href="load_8c_source.html#l00345">dfsch_read_scm_stream()</a>, <a class="el" href="dfsch_8c_source.html#l02163">dfsch_string_2_object_list()</a>, and <a class="el" href="console_8c_source.html#l00145">get_prompt()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01092"></a>01092                                                    {
<a name="l01093"></a>01093   <span class="keywordflow">return</span> ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#d03c60efe6e72b6b6b5ee6868ef68d12">level</a>;
<a name="l01094"></a>01094 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="a7addc7845693493a24c48b48f76d2ad"></a><!-- doxytag: member="parse.h::dfsch_parser_import_symbol" ref="a7addc7845693493a24c48b48f76d2ad" args="(dfsch_parser_ctx_t *ctx, dfsch_object_t *symbol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfsch_parser_import_symbol           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td>
          <td class="paramname"> <em>symbol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8c_source.html#l00279">279</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="parse_8c_source.html#l00237">dfsch_parser_define_symbol()</a>, and <a class="el" href="dfsch_8c_source.html#l01795">dfsch_symbol()</a>.</p>

<p>Referenced by <a class="el" href="parse_8c_source.html#l00328">directive_import()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00280"></a>00280                                                        {
<a name="l00281"></a>00281   <span class="keywordtype">char</span>* name;
<a name="l00282"></a>00282 
<a name="l00283"></a>00283   name = rindex(<a class="code" href="dfsch_8h.html#952727ed3e9a4e7408c975ed5aaedc7f">dfsch_symbol</a>(symbol), <span class="charliteral">':'</span>);
<a name="l00284"></a>00284 
<a name="l00285"></a>00285   <span class="keywordflow">if</span> (name &amp;&amp; name[1]!=0){
<a name="l00286"></a>00286     <a class="code" href="parse_8h.html#5655f0170984d6a965acfe94064d5619">dfsch_parser_define_symbol</a>(ctx, name + 1, symbol);
<a name="l00287"></a>00287   }
<a name="l00288"></a>00288 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="3feaf21461b37c06d4642f5d9004a1c2"></a><!-- doxytag: member="parse.h::dfsch_parser_parse_object" ref="3feaf21461b37c06d4642f5d9004a1c2" args="(dfsch_parser_ctx_t *ctx, dfsch_object_t *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfsch_parser_parse_object           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8c_source.html#l00388">388</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="parse_8c_source.html#l00162">dfsch_parser_ctx_t::baton</a>, <a class="el" href="parse_8c_source.html#l00163">dfsch_parser_ctx_t::callback</a>, <a class="el" href="dfsch_8c_source.html#l00878">dfsch_cons()</a>, <a class="el" href="dfsch_8c_source.html#l02543">dfsch_eval()</a>, <a class="el" href="dfsch_8c_source.html#l02118">dfsch_list_2_vector()</a>, <a class="el" href="dfsch_8c_source.html#l00837">dfsch_pair_p()</a>, <a class="el" href="dfsch_8c_source.html#l00953">dfsch_set_cdr()</a>, <a class="el" href="parse_8c_source.html#l00172">dfsch_parser_ctx_t::env</a>, <a class="el" href="parse_8c_source.html#l00165">dfsch_parser_ctx_t::error</a>, <a class="el" href="parse_8c_source.html#l00140">parser_stack_t::front</a>, <a class="el" href="parse_8c_source.html#l00141">parser_stack_t::last</a>, <a class="el" href="parse_8c_source.html#l00387">parse_object</a>, <a class="el" href="parse_8c_source.html#l00160">dfsch_parser_ctx_t::parser</a>, <a class="el" href="parse_8c_source.html#l00186">parser_abort()</a>, <a class="el" href="parse_8c_source.html#l00372">parser_pop()</a>, <a class="el" href="parse_8c_source.html#l00344">process_directive()</a>, <a class="el" href="structparser__stack__t.html#1da87094c5b5eece6f9d11ec0c7727a3">parser_stack_t::state</a>, and <a class="el" href="parse_8c_source.html#l00142">parser_stack_t::tag</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00388"></a>00388                                                                             {
<a name="l00389"></a>00389   <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#15031baf6c3ec8e289fcaabf58fcc080">parser</a>){
<a name="l00390"></a>00390     <span class="keywordflow">switch</span>(ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#15031baf6c3ec8e289fcaabf58fcc080">parser</a>-&gt;<a class="code" href="structparser__stack__t.html#1da87094c5b5eece6f9d11ec0c7727a3">state</a>){
<a name="l00391"></a>00391     <span class="keywordflow">case</span> P_LIST:
<a name="l00392"></a>00392       {
<a name="l00393"></a>00393         <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a> *<span class="keyword">new</span> = <a class="code" href="dfsch_8h.html#ff85cf17ead5b89f43244a3010bc155c">dfsch_cons</a>(obj, NULL);
<a name="l00394"></a>00394 
<a name="l00395"></a>00395         <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#15031baf6c3ec8e289fcaabf58fcc080">parser</a>-&gt;<a class="code" href="structparser__stack__t.html#fd81acc3cb3d15bb0f33a20ac5bff1e2">last</a>){
<a name="l00396"></a>00396           <a class="code" href="dfsch_8h.html#df97a679c630d7217bbcd989a65b3b55">dfsch_set_cdr</a>(ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#15031baf6c3ec8e289fcaabf58fcc080">parser</a>-&gt;<a class="code" href="structparser__stack__t.html#fd81acc3cb3d15bb0f33a20ac5bff1e2">last</a>, <span class="keyword">new</span>);
<a name="l00397"></a>00397         }<span class="keywordflow">else</span>{
<a name="l00398"></a>00398           ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#15031baf6c3ec8e289fcaabf58fcc080">parser</a>-&gt;<a class="code" href="structparser__stack__t.html#0e7bf525dbd1eac019794e2a6f169a50">front</a> = <span class="keyword">new</span>;
<a name="l00399"></a>00399         }
<a name="l00400"></a>00400         ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#15031baf6c3ec8e289fcaabf58fcc080">parser</a>-&gt;<a class="code" href="structparser__stack__t.html#fd81acc3cb3d15bb0f33a20ac5bff1e2">last</a> = <span class="keyword">new</span>;
<a name="l00401"></a>00401         <span class="keywordflow">break</span>;
<a name="l00402"></a>00402       }
<a name="l00403"></a>00403     <span class="keywordflow">case</span> P_DOT:
<a name="l00404"></a>00404       <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#15031baf6c3ec8e289fcaabf58fcc080">parser</a>-&gt;<a class="code" href="structparser__stack__t.html#fd81acc3cb3d15bb0f33a20ac5bff1e2">last</a>){
<a name="l00405"></a>00405         <a class="code" href="dfsch_8h.html#df97a679c630d7217bbcd989a65b3b55">dfsch_set_cdr</a>(ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#15031baf6c3ec8e289fcaabf58fcc080">parser</a>-&gt;<a class="code" href="structparser__stack__t.html#fd81acc3cb3d15bb0f33a20ac5bff1e2">last</a>, obj);
<a name="l00406"></a>00406         ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#15031baf6c3ec8e289fcaabf58fcc080">parser</a>-&gt;<a class="code" href="structparser__stack__t.html#1da87094c5b5eece6f9d11ec0c7727a3">state</a> = P_PREEND;
<a name="l00407"></a>00407         <span class="keywordflow">return</span>;
<a name="l00408"></a>00408       }<span class="keywordflow">else</span>{
<a name="l00409"></a>00409         <a class="code" href="parse_8c.html#a0fd3ed399796e09ab6ab0d1099d778c">parser_abort</a>(ctx, <span class="stringliteral">"parser:car-expected"</span>);
<a name="l00410"></a>00410       }
<a name="l00411"></a>00411     <span class="keywordflow">case</span> P_QUOTE:
<a name="l00412"></a>00412       {
<a name="l00413"></a>00413         <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* tag = ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#15031baf6c3ec8e289fcaabf58fcc080">parser</a>-&gt;<a class="code" href="structparser__stack__t.html#7505705aac5892a1ceaa6d1b4bec1e6f">tag</a>;
<a name="l00414"></a>00414         <a class="code" href="parse_8c.html#6603467c28b188c9c14903b7bb705282">parser_pop</a>(ctx);
<a name="l00415"></a>00415         <a class="code" href="parse_8c.html#a07554d7ed00fac776825ddc86422d8e">parse_object</a>(ctx, <a class="code" href="dfsch_8h.html#ff85cf17ead5b89f43244a3010bc155c">dfsch_cons</a>(tag, <a class="code" href="dfsch_8h.html#ff85cf17ead5b89f43244a3010bc155c">dfsch_cons</a>(obj, NULL)));
<a name="l00416"></a>00416         <span class="keywordflow">return</span>;
<a name="l00417"></a>00417       }
<a name="l00418"></a>00418     <span class="keywordflow">case</span> P_HASH:
<a name="l00419"></a>00419       <a class="code" href="parse_8c.html#6603467c28b188c9c14903b7bb705282">parser_pop</a>(ctx);
<a name="l00420"></a>00420       <span class="keywordflow">if</span> ((!obj) || <a class="code" href="dfsch_8h.html#0515779c8c66eadcdd9fa52d1efd957e">dfsch_pair_p</a>(obj)){
<a name="l00421"></a>00421         <a class="code" href="parse_8c.html#a07554d7ed00fac776825ddc86422d8e">parse_object</a>(ctx, <a class="code" href="dfsch_8h.html#fd4863c802c82d1beb98f7f9d91cfe54">dfsch_list_2_vector</a>(obj));
<a name="l00422"></a>00422       }<span class="keywordflow">else</span>{
<a name="l00423"></a>00423         <a class="code" href="parse_8c.html#a0fd3ed399796e09ab6ab0d1099d778c">parser_abort</a>(ctx, <span class="stringliteral">"parser:list-expected"</span>);
<a name="l00424"></a>00424       }
<a name="l00425"></a>00425       <span class="keywordflow">return</span>;
<a name="l00426"></a>00426     <span class="keywordflow">case</span> P_EVAL:
<a name="l00427"></a>00427       <a class="code" href="parse_8c.html#6603467c28b188c9c14903b7bb705282">parser_pop</a>(ctx);
<a name="l00428"></a>00428       <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#dcd1c1e9231cec76d116b5473c77d031">env</a>){
<a name="l00429"></a>00429         <a class="code" href="parse_8c.html#a07554d7ed00fac776825ddc86422d8e">parse_object</a>(ctx, <a class="code" href="dfsch_8h.html#bed96c7cb06a32b19436904f93b957ca">dfsch_eval</a>(obj, ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#dcd1c1e9231cec76d116b5473c77d031">env</a>));
<a name="l00430"></a>00430         <span class="comment">/* XXX: What happens when this throws exception is not entirely clear */</span>
<a name="l00431"></a>00431       }<span class="keywordflow">else</span>{
<a name="l00432"></a>00432         <a class="code" href="parse_8c.html#a0fd3ed399796e09ab6ab0d1099d778c">parser_abort</a>(ctx, <span class="stringliteral">"parser:evaluation-not-permitted"</span>);        
<a name="l00433"></a>00433       }
<a name="l00434"></a>00434       <span class="keywordflow">return</span>;
<a name="l00435"></a>00435     <span class="keywordflow">case</span> P_DIRECTIVE:
<a name="l00436"></a>00436       <a class="code" href="parse_8c.html#6603467c28b188c9c14903b7bb705282">parser_pop</a>(ctx);
<a name="l00437"></a>00437       <a class="code" href="parse_8c.html#92427585b7943b4e50465d29b8b6d3f6">process_directive</a>(ctx, obj);
<a name="l00438"></a>00438       <span class="keywordflow">return</span>;
<a name="l00439"></a>00439     <span class="keywordflow">default</span>:
<a name="l00440"></a>00440       <a class="code" href="parse_8c.html#a0fd3ed399796e09ab6ab0d1099d778c">parser_abort</a>(ctx, <span class="stringliteral">"parser:unexpected-object"</span>);
<a name="l00441"></a>00441     }
<a name="l00442"></a>00442   }<span class="keywordflow">else</span>{
<a name="l00443"></a>00443     <span class="comment">//    DFSCH_TRY { XXX</span>
<a name="l00444"></a>00444       <span class="keywordflow">if</span> (!(*ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#6ffb948673c50599e09bc58a6f255fcb">callback</a>)(obj,ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#36524a7d9289a9a79e4db995ca17d03b">baton</a>)){
<a name="l00445"></a>00445         ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#ddb1484f99aff3924f695065ba71beec">error</a> = 1;
<a name="l00446"></a>00446       }
<a name="l00447"></a>00447       <span class="comment">/*} DFSCH_SCATCH(ex) {</span>
<a name="l00448"></a>00448 <span class="comment">      parser_abort_ex(ctx, ex);</span>
<a name="l00449"></a>00449 <span class="comment">      } DFSCH_SCATCHEND;*/</span>
<a name="l00450"></a>00450   }
<a name="l00451"></a>00451 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2d90869bb1de02e67cc7f9f5c727b19c"></a><!-- doxytag: member="parse.h::dfsch_parser_read_from_port" ref="2d90869bb1de02e67cc7f9f5c727b19c" args="(dfsch_object_t *port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a>* dfsch_parser_read_from_port           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td>
          <td class="paramname"> <em>port</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read one object from port. 
<p>Definition at line <a class="el" href="parse_8c_source.html#l01124">1124</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="ports_8c_source.html#l00241">dfsch_eof_object()</a>, <a class="el" href="dfsch_8c_source.html#l02008">dfsch_error()</a>, <a class="el" href="parse_8c_source.html#l00290">dfsch_parser_callback()</a>, <a class="el" href="parse_8c_source.html#l00198">dfsch_parser_create()</a>, <a class="el" href="parse_8c_source.html#l01061">dfsch_parser_feed()</a>, <a class="el" href="parse_8c_source.html#l01108">dfsch_parser_top_level()</a>, <a class="el" href="ports_8c_source.html#l00160">dfsch_port_batch_read()</a>, <a class="el" href="ports_8c_source.html#l00151">dfsch_port_batch_read_end()</a>, <a class="el" href="ports_8c_source.html#l00142">dfsch_port_batch_read_start()</a>, <a class="el" href="magic_8h_source.html#l00211">DFSCH_PROTECT</a>, <a class="el" href="magic_8h_source.html#l00217">DFSCH_PROTECT_END</a>, <a class="el" href="magic_8h_source.html#l00205">DFSCH_UNWIND</a>, <a class="el" href="repl_8c_source.html#l00059">parser</a>, and <a class="el" href="parse_8c_source.html#l01112">read_callback()</a>.</p>

<p>Referenced by <a class="el" href="ports_8c_source.html#l00785">native_read()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01124"></a>01124                                                                  {
<a name="l01125"></a>01125   <a class="code" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a>* <a class="code" href="repl_8c.html#c10a11e18c4c45888f96553e7a222b10">parser</a> = <a class="code" href="parse_8h.html#e3c2bad9a7c1e0a3ffa16b3bb312c9a3">dfsch_parser_create</a>();
<a name="l01126"></a>01126   <span class="keywordtype">int</span> ch;
<a name="l01127"></a>01127   <span class="keywordtype">char</span> buf[2];
<a name="l01128"></a>01128   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* res;
<a name="l01129"></a>01129   <span class="keywordtype">int</span> ok = 0;
<a name="l01130"></a>01130 
<a name="l01131"></a>01131   <a class="code" href="ports_8h.html#9f2ef81001effb0f509f00a7b1f77975">dfsch_port_batch_read_start</a>(port);
<a name="l01132"></a>01132   <a class="code" href="parse_8h.html#373fd70de5ca178dddb7438f12d5a650">dfsch_parser_callback</a>(parser, <a class="code" href="parse_8c.html#ec6196c609b5bc13c2e6126dd4d6538c">read_callback</a>, &amp;res);
<a name="l01133"></a>01133   <a class="code" href="magic_8h.html#82cd868419a090568e33e92c446c3e53">DFSCH_UNWIND</a> {
<a name="l01134"></a>01134     <span class="keywordflow">while</span> ((ch = <a class="code" href="ports_8h.html#e562c572cba47a97f94d3bd48ccab46d">dfsch_port_batch_read</a>(port)) != -1){
<a name="l01135"></a>01135       buf[0] = ch;
<a name="l01136"></a>01136       buf[1] = 0;
<a name="l01137"></a>01137       
<a name="l01138"></a>01138       <span class="keywordflow">if</span> (<a class="code" href="parse_8h.html#56151f6369a3eae859a18fe3961da46f">dfsch_parser_feed</a>(parser, buf)){
<a name="l01139"></a>01139         <a class="code" href="ports_8h.html#d1599143c541b20da37a3162a26df1f7">dfsch_port_batch_read_end</a>(port);
<a name="l01140"></a>01140         ok = 1;
<a name="l01141"></a>01141         <span class="keywordflow">break</span>;
<a name="l01142"></a>01142       }
<a name="l01143"></a>01143     }
<a name="l01144"></a>01144   } <a class="code" href="magic_8h.html#d8e48f6756bc7f7204832377ca25ea6a">DFSCH_PROTECT</a> {
<a name="l01145"></a>01145     <a class="code" href="ports_8h.html#d1599143c541b20da37a3162a26df1f7">dfsch_port_batch_read_end</a>(port);
<a name="l01146"></a>01146   } <a class="code" href="magic_8h.html#de8490c2332755cf283e447775432801">DFSCH_PROTECT_END</a>;
<a name="l01147"></a>01147   <span class="keywordflow">if</span> (ok){
<a name="l01148"></a>01148     <span class="keywordflow">return</span> res;
<a name="l01149"></a>01149   }
<a name="l01150"></a>01150   <span class="keywordflow">if</span> (<a class="code" href="parse_8h.html#9a5a1e760704524063525087332c5962">dfsch_parser_top_level</a>(parser)){
<a name="l01151"></a>01151     <span class="keywordflow">return</span> <a class="code" href="ports_8h.html#a7256ac213830ec8f0c6c7072dcf7ec2">dfsch_eof_object</a>();
<a name="l01152"></a>01152   } <span class="keywordflow">else</span> {
<a name="l01153"></a>01153     <a class="code" href="dfsch_8h.html#646ee34c82a726fdc33d8a28af39270a">dfsch_error</a>(<span class="stringliteral">"parser:unexpected-end-of-file"</span>, port);
<a name="l01154"></a>01154   }
<a name="l01155"></a>01155 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f9923c120e7210be727b2be4448095cb"></a><!-- doxytag: member="parse.h::dfsch_parser_reset" ref="f9923c120e7210be727b2be4448095cb" args="(dfsch_parser_ctx_t *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfsch_parser_reset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy current parser context and start from scratch (useful for C-c in interactive applications) 
<p>Definition at line <a class="el" href="parse_8c_source.html#l01096">1096</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="parse_8c_source.html#l00104">empty_queue()</a>, <a class="el" href="parse_8c_source.html#l00165">dfsch_parser_ctx_t::error</a>, <a class="el" href="parse_8c_source.html#l00166">dfsch_parser_ctx_t::level</a>, <a class="el" href="parse_8c_source.html#l00160">dfsch_parser_ctx_t::parser</a>, <a class="el" href="parse_8c_source.html#l00148">dfsch_parser_ctx_t::q</a>, and <a class="el" href="structdfsch__parser__ctx__t.html#20e9956a7ddcb224ebf81c841f28e0d5">dfsch_parser_ctx_t::tokenizer_state</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01096"></a>01096                                                 {
<a name="l01097"></a>01097   <a class="code" href="parse_8c.html#6fe879b96a9fd0ddfa53b1361a763edb">empty_queue</a>(ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#59ffad4bab782058502ed1e5bf69c635">q</a>);
<a name="l01098"></a>01098   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#20e9956a7ddcb224ebf81c841f28e0d5">tokenizer_state</a> = T_NONE;
<a name="l01099"></a>01099   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#15031baf6c3ec8e289fcaabf58fcc080">parser</a> = NULL;
<a name="l01100"></a>01100   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#d03c60efe6e72b6b6b5ee6868ef68d12">level</a> = 0 ;
<a name="l01101"></a>01101   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#ddb1484f99aff3924f695065ba71beec">error</a> = 0;
<a name="l01102"></a>01102 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e6116d0794c03a0aa105637400207870"></a><!-- doxytag: member="parse.h::dfsch_parser_set_source" ref="e6116d0794c03a0aa105637400207870" args="(dfsch_parser_ctx_t *ctx, dfsch_object_t *source)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfsch_parser_set_source           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td>
          <td class="paramname"> <em>source</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8c_source.html#l01104">1104</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="parse_8c_source.html#l00173">dfsch_parser_ctx_t::source</a>.</p>

<p>Referenced by <a class="el" href="console_8c_source.html#l00224">dfsch_console_read_objects()</a>, and <a class="el" href="load_8c_source.html#l00345">dfsch_read_scm_stream()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01104"></a>01104                                                                              {
<a name="l01105"></a>01105   ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#f3340470e4b29bb69f46a27f3d50e85f">source</a> = source;
<a name="l01106"></a>01106 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9a5a1e760704524063525087332c5962"></a><!-- doxytag: member="parse.h::dfsch_parser_top_level" ref="9a5a1e760704524063525087332c5962" args="(dfsch_parser_ctx_t *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dfsch_parser_top_level           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return true if parser is in default state. 
<p>Definition at line <a class="el" href="parse_8c_source.html#l01108">1108</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="parse_8c_source.html#l00160">dfsch_parser_ctx_t::parser</a>, and <a class="el" href="structdfsch__parser__ctx__t.html#20e9956a7ddcb224ebf81c841f28e0d5">dfsch_parser_ctx_t::tokenizer_state</a>.</p>

<p>Referenced by <a class="el" href="console_8c_source.html#l00169">dfsch_console_read_object()</a>, and <a class="el" href="parse_8c_source.html#l01124">dfsch_parser_read_from_port()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01108"></a>01108                                                    {
<a name="l01109"></a>01109   <span class="keywordflow">return</span> (ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#15031baf6c3ec8e289fcaabf58fcc080">parser</a> == NULL) &amp; (ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#20e9956a7ddcb224ebf81c841f28e0d5">tokenizer_state</a> == T_NONE);
<a name="l01110"></a>01110 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="78996c52859c0414e9a149f947a546b4"></a><!-- doxytag: member="parse.h::dfsch_parser_undefine_symbol" ref="78996c52859c0414e9a149f947a546b4" args="(dfsch_parser_ctx_t *ctx, char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfsch_parser_undefine_symbol           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__parser__ctx__t.html">dfsch_parser_ctx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="parse_8c_source.html#l00258">258</a> of file <a class="el" href="parse_8c_source.html">parse.c</a>.</p>

<p>References <a class="el" href="src_2util_8h_source.html#l00054">ascii_strcasecmp</a>, <a class="el" href="parse_8c_source.html#l00113">symbol_map_t::name</a>, <a class="el" href="parse_8c_source.html#l00115">symbol_map_t::next</a>, and <a class="el" href="parse_8c_source.html#l00170">dfsch_parser_ctx_t::symbol_map</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00259"></a>00259                                              {
<a name="l00260"></a>00260   <a class="code" href="structsymbol__map__t.html">symbol_map_t</a>* i = ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#5895bf8dfadaec6b0d6ff5b06d4240f8">symbol_map</a>;
<a name="l00261"></a>00261   <a class="code" href="structsymbol__map__t.html">symbol_map_t</a>* j;
<a name="l00262"></a>00262 
<a name="l00263"></a>00263   <span class="keywordflow">if</span> (!i){
<a name="l00264"></a>00264     <span class="keywordflow">return</span>;
<a name="l00265"></a>00265   }
<a name="l00266"></a>00266 
<a name="l00267"></a>00267   <span class="keywordflow">if</span> (<a class="code" href="src_2util_8h.html#0202e34456d2afa82431835aefa51011">ascii_strcasecmp</a>(name, i-&gt;<a class="code" href="structsymbol__map__t.html#f8e19f5d131fb535db015c68a50c361b">name</a>) == 0){
<a name="l00268"></a>00268     ctx-&gt;<a class="code" href="structdfsch__parser__ctx__t.html#5895bf8dfadaec6b0d6ff5b06d4240f8">symbol_map</a> = i-&gt;<a class="code" href="structsymbol__map__t.html#cf4eefd5c608800d1af7a225490a1d51">next</a>;
<a name="l00269"></a>00269   }
<a name="l00270"></a>00270 
<a name="l00271"></a>00271   <span class="keywordflow">while</span> (i){
<a name="l00272"></a>00272     <span class="keywordflow">if</span> (<a class="code" href="src_2util_8h.html#0202e34456d2afa82431835aefa51011">ascii_strcasecmp</a>(name, i-&gt;<a class="code" href="structsymbol__map__t.html#f8e19f5d131fb535db015c68a50c361b">name</a>) == 0){
<a name="l00273"></a>00273       j-&gt;<a class="code" href="structsymbol__map__t.html#cf4eefd5c608800d1af7a225490a1d51">next</a> = i-&gt;<a class="code" href="structsymbol__map__t.html#cf4eefd5c608800d1af7a225490a1d51">next</a>;
<a name="l00274"></a>00274       <span class="keywordflow">return</span>;
<a name="l00275"></a>00275     }
<a name="l00276"></a>00276     i = i-&gt;<a class="code" href="structsymbol__map__t.html#cf4eefd5c608800d1af7a225490a1d51">next</a>;
<a name="l00277"></a>00277   }  
<a name="l00278"></a>00278 }
</pre></div>
<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jul 3 16:02:14 2009 for dfsch by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
