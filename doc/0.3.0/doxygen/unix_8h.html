<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>dfsch: dfsch/lib/unix.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>dfsch/lib/unix.h File Reference</h1><code>#include &lt;<a class="el" href="dfsch_8h_source.html">dfsch/dfsch.h</a>&gt;</code><br>

<p>
<div class="dynheader">
Include dependency graph for unix.h:</div>
<div class="dynsection">
<p><center><img src="unix_8h__incl.png" border="0" usemap="#dfsch/lib/unix.h_map" alt=""></center>
<map name="dfsch/lib/unix.h_map">
<area shape="rect" href="dfsch_8h.html" title="dfsch/dfsch.h" alt="" coords="389,84,493,111"><area shape="rect" href="defines_8h.html" title="dfsch/defines.h" alt="" coords="240,161,357,188"><area shape="rect" href="number_8h.html" title="dfsch/number.h" alt="" coords="381,161,501,188"><area shape="rect" href="dfsch_2types_8h.html" title="dfsch/types.h" alt="" coords="525,161,632,188"><area shape="rect" href="writer_8h.html" title="dfsch/writer.h" alt="" coords="656,161,760,188"><area shape="rect" href="strings_8h.html" title="dfsch/strings.h" alt="" coords="784,161,899,188"></map>
</div>

<p>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<p><center><img src="unix_8h__dep__incl.png" border="0" usemap="#dfsch/lib/unix.hdep_map" alt=""></center>
<map name="dfsch/lib/unix.hdep_map">
<area shape="rect" href="unix_8c.html" title="lib/unix.c" alt="" coords="25,84,100,111"></map>
</div>

<p>
<a href="unix_8h_source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_8h.html#f56762cde5175b5d9e601179aed7e0f4">dfsch_module_unix_register</a> (<a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_8h.html#9fc4acf3ebbebe05c08140ec91d5fb25">dfsch_unix_closedir</a> (<a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *dir_obj)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct stat *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_8h.html#7dc535a4389f399eab8fba777edea119">dfsch_unix_get_stat</a> (<a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *stat)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_8h.html#db02041028ce777bc7f8c1b883998533">dfsch_unix_make_stat_struct</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_8h.html#bcd3f96906bc193e0cc5ce5c7c1a7f68">dfsch_unix_opendir</a> (char *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_8h.html#4827bea2ed974e88bba66501f4e4a40b">dfsch_unix_readdir</a> (<a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *dir_obj)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="f56762cde5175b5d9e601179aed7e0f4"></a><!-- doxytag: member="unix.h::dfsch_module_unix_register" ref="f56762cde5175b5d9e601179aed7e0f4" args="(dfsch_object_t *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a>* dfsch_module_unix_register           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="unix_8c_source.html#l01128">1128</a> of file <a class="el" href="unix_8c_source.html">unix.c</a>.</p>

<p>References <a class="el" href="dfsch_8c_source.html#l02848">dfsch_define_cstr()</a>, <a class="el" href="dfsch_8c_source.html#l01888">dfsch_make_primitive()</a>, <a class="el" href="load_8c_source.html#l00258">dfsch_provide()</a>, <a class="el" href="unix_8c_source.html#l00304">native_access()</a>, <a class="el" href="unix_8c_source.html#l00328">native_chdir()</a>, <a class="el" href="unix_8c_source.html#l00354">native_chmod()</a>, <a class="el" href="unix_8c_source.html#l00381">native_chown()</a>, <a class="el" href="unix_8c_source.html#l00412">native_clock()</a>, <a class="el" href="unix_8c_source.html#l00419">native_close()</a>, <a class="el" href="unix_8c_source.html#l00430">native_closedir()</a>, <a class="el" href="unix_8c_source.html#l00441">native_creat()</a>, <a class="el" href="unix_8c_source.html#l00460">native_dup()</a>, <a class="el" href="unix_8c_source.html#l00474">native_dup2()</a>, <a class="el" href="unix_8c_source.html#l00492">native_exit()</a>, <a class="el" href="unix_8c_source.html#l00340">native_fchdir()</a>, <a class="el" href="unix_8c_source.html#l00367">native_fchmod()</a>, <a class="el" href="unix_8c_source.html#l00396">native_fchown()</a>, <a class="el" href="unix_8c_source.html#l00501">native_fork()</a>, <a class="el" href="unix_8c_source.html#l00514">native_fstat()</a>, <a class="el" href="unix_8c_source.html#l00528">native_getcwd()</a>, <a class="el" href="unix_8c_source.html#l00554">native_getegid()</a>, <a class="el" href="unix_8c_source.html#l00621">native_getenv()</a>, <a class="el" href="unix_8c_source.html#l00560">native_geteuid()</a>, <a class="el" href="unix_8c_source.html#l00566">native_getgid()</a>, <a class="el" href="unix_8c_source.html#l00579">native_getpgid()</a>, <a class="el" href="unix_8c_source.html#l00593">native_getpgrp()</a>, <a class="el" href="unix_8c_source.html#l00607">native_getpid()</a>, <a class="el" href="unix_8c_source.html#l00613">native_getppid()</a>, <a class="el" href="unix_8c_source.html#l00599">native_getsid()</a>, <a class="el" href="unix_8c_source.html#l00636">native_gettimeofday()</a>, <a class="el" href="unix_8c_source.html#l00572">native_getuid()</a>, <a class="el" href="unix_8c_source.html#l00653">native_isatty()</a>, <a class="el" href="unix_8c_source.html#l00672">native_kill()</a>, <a class="el" href="unix_8c_source.html#l00686">native_killpg()</a>, <a class="el" href="unix_8c_source.html#l00701">native_link()</a>, <a class="el" href="unix_8c_source.html#l00714">native_lseek()</a>, <a class="el" href="unix_8c_source.html#l00741">native_lstat()</a>, <a class="el" href="unix_8c_source.html#l00755">native_mkdir()</a>, <a class="el" href="unix_8c_source.html#l00768">native_mkfifo()</a>, <a class="el" href="unix_8c_source.html#l00219">native_mode()</a>, <a class="el" href="unix_8c_source.html#l00782">native_nice()</a>, <a class="el" href="unix_8c_source.html#l00794">native_open()</a>, <a class="el" href="unix_8c_source.html#l00826">native_opendir()</a>, <a class="el" href="unix_8c_source.html#l00834">native_pipe()</a>, <a class="el" href="unix_8c_source.html#l00849">native_raise()</a>, <a class="el" href="unix_8c_source.html#l00860">native_read()</a>, <a class="el" href="unix_8c_source.html#l00891">native_readdir()</a>, <a class="el" href="unix_8c_source.html#l00899">native_rename()</a>, <a class="el" href="unix_8c_source.html#l00912">native_rmdir()</a>, <a class="el" href="unix_8c_source.html#l00923">native_setegid()</a>, <a class="el" href="unix_8c_source.html#l00934">native_seteuid()</a>, <a class="el" href="unix_8c_source.html#l00945">native_setgid()</a>, <a class="el" href="unix_8c_source.html#l00967">native_setpgid()</a>, <a class="el" href="unix_8c_source.html#l00992">native_setpgrp()</a>, <a class="el" href="unix_8c_source.html#l00980">native_setsid()</a>, <a class="el" href="unix_8c_source.html#l00956">native_setuid()</a>, <a class="el" href="unix_8c_source.html#l00287">native_sig()</a>, <a class="el" href="unix_8c_source.html#l01004">native_sleep()</a>, <a class="el" href="unix_8c_source.html#l01012">native_stat()</a>, <a class="el" href="unix_8c_source.html#l01030">native_symlink()</a>, <a class="el" href="unix_8c_source.html#l01043">native_sync()</a>, <a class="el" href="unix_8c_source.html#l01111">native_unlink()</a>, <a class="el" href="unix_8c_source.html#l01051">native_wait()</a>, <a class="el" href="unix_8c_source.html#l01067">native_waitpid()</a>, and <a class="el" href="unix_8c_source.html#l01093">native_write()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01128"></a>01128                                                                {
<a name="l01129"></a>01129   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:mode"</span>, 
<a name="l01130"></a>01130                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#4087f2e8e96ae010da61d9f1f22ce8e0">native_mode</a>, NULL));
<a name="l01131"></a>01131   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:sig"</span>, 
<a name="l01132"></a>01132                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#0aea9b94665b296f1f36b5306fc019ac">native_sig</a>, NULL));
<a name="l01133"></a>01133 
<a name="l01134"></a>01134 
<a name="l01135"></a>01135   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:access"</span>, 
<a name="l01136"></a>01136                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#183c223fbe604445ced898433116dd13">native_access</a>, NULL));
<a name="l01137"></a>01137   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:chdir"</span>, 
<a name="l01138"></a>01138                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#bafcdcafd86ea6b8bcf2bf80e58018b1">native_chdir</a>, NULL));
<a name="l01139"></a>01139   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:fchdir"</span>, 
<a name="l01140"></a>01140                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#1500a379a5fcae814e342818c8421387">native_fchdir</a>, NULL));
<a name="l01141"></a>01141   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:chmod"</span>, 
<a name="l01142"></a>01142                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#709474d7fe2fd11f26591d51416bb585">native_chmod</a>, NULL));
<a name="l01143"></a>01143   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:fchmod"</span>, 
<a name="l01144"></a>01144                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#859b702703f04661b86d814de32aa8ac">native_fchmod</a>, NULL));
<a name="l01145"></a>01145   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:chown"</span>, 
<a name="l01146"></a>01146                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#4b6aeb9c292bedff0b3a63491ab28d7a">native_chown</a>, NULL));
<a name="l01147"></a>01147   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:fchown"</span>, 
<a name="l01148"></a>01148                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#af16847197df9c321d79932958c170de">native_fchown</a>, NULL));
<a name="l01149"></a>01149   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:clock"</span>, 
<a name="l01150"></a>01150                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#0049a825dc61637c5ae57c32683f4e89">native_clock</a>, NULL));
<a name="l01151"></a>01151   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:close"</span>, 
<a name="l01152"></a>01152                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#61d21cece3047df29e4db3720cdd64d7">native_close</a>, NULL));
<a name="l01153"></a>01153   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:closedir"</span>, 
<a name="l01154"></a>01154                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#96b8de238052478f134f6502c336b089">native_closedir</a>, NULL));
<a name="l01155"></a>01155   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:creat"</span>, 
<a name="l01156"></a>01156                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#df765aaa3a5052fe14d888dbee41ceb0">native_creat</a>, NULL));
<a name="l01157"></a>01157   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:dup"</span>, 
<a name="l01158"></a>01158                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#396880a05ff80221d0a43fb5dbb5802d">native_dup</a>, NULL));
<a name="l01159"></a>01159   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:dup2"</span>, 
<a name="l01160"></a>01160                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#2a428eb8cace9f0b277255bae4dce286">native_dup2</a>, NULL));
<a name="l01161"></a>01161   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:exit"</span>, 
<a name="l01162"></a>01162                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#eeb8aa09b7d7147f1a386aa0753d2d69">native_exit</a>, NULL));
<a name="l01163"></a>01163   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:fork"</span>, 
<a name="l01164"></a>01164                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#6381d146a634b7634f6b56235620bc56">native_fork</a>, NULL));
<a name="l01165"></a>01165   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:fstat"</span>, 
<a name="l01166"></a>01166                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#15e7a0fe68558a895b1ecd647b21c010">native_fstat</a>, NULL));
<a name="l01167"></a>01167   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:getcwd"</span>, 
<a name="l01168"></a>01168                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#4290e09c26207922238637e53f078a11">native_getcwd</a>, NULL));
<a name="l01169"></a>01169   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:getegid"</span>, 
<a name="l01170"></a>01170                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#e614482ab606765643d755b41341643f">native_getegid</a>, NULL));
<a name="l01171"></a>01171   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:geteuid"</span>, 
<a name="l01172"></a>01172                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#ef9a0005c61ce5c3cb035eaa5593928f">native_geteuid</a>, NULL));
<a name="l01173"></a>01173   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:getgid"</span>, 
<a name="l01174"></a>01174                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#31b397521c4791916f1ca812db7e59eb">native_getgid</a>, NULL));
<a name="l01175"></a>01175   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:getuid"</span>, 
<a name="l01176"></a>01176                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#0a06a2796a4f47eb6bc65342b4ed273c">native_getuid</a>, NULL));
<a name="l01177"></a>01177   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:getenv"</span>, 
<a name="l01178"></a>01178                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#134cb24c9db0aa5c1941dc1df4ceb9cb">native_getenv</a>, NULL));
<a name="l01179"></a>01179   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:getpgid"</span>, 
<a name="l01180"></a>01180                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#564077396b133500d8fa014aae0b9e4a">native_getpgid</a>, NULL));
<a name="l01181"></a>01181   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:getpgrp"</span>, 
<a name="l01182"></a>01182                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#9169bc79b165d2ab9753ffb3ce98bc39">native_getpgrp</a>, NULL));
<a name="l01183"></a>01183   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:getsid"</span>, 
<a name="l01184"></a>01184                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#07f97940ce490d5d1509ecb43c44d939">native_getsid</a>, NULL));
<a name="l01185"></a>01185   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:getpid"</span>, 
<a name="l01186"></a>01186                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#e73c88c0d2b61262c64266310acce773">native_getpid</a>, NULL));
<a name="l01187"></a>01187   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:getppid"</span>, 
<a name="l01188"></a>01188                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#721d4b45d028e12eb192d44965e802ba">native_getppid</a>, NULL));
<a name="l01189"></a>01189   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:gettimeofday"</span>, 
<a name="l01190"></a>01190                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#ca73832528f1f5fd81b2577faeb39719">native_gettimeofday</a>, NULL));
<a name="l01191"></a>01191   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:isatty"</span>, 
<a name="l01192"></a>01192                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#4500df9e52787cd6f00982d08eb746df">native_isatty</a>, NULL));
<a name="l01193"></a>01193   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:kill"</span>, 
<a name="l01194"></a>01194                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#f08a1bafcac968909a0881d94e67d86f">native_kill</a>, NULL));
<a name="l01195"></a>01195   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:killpg"</span>, 
<a name="l01196"></a>01196                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#60764bd456697486e4b72e36a027a09c">native_killpg</a>, NULL));
<a name="l01197"></a>01197   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:link"</span>, 
<a name="l01198"></a>01198                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#aeda8344f980e61c566d8e67b3445860">native_link</a>, NULL));
<a name="l01199"></a>01199   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:lseek"</span>, 
<a name="l01200"></a>01200                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#ea0854920d55b362f1f445f0560de4bf">native_lseek</a>, NULL));
<a name="l01201"></a>01201   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:lstat"</span>, 
<a name="l01202"></a>01202                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#b9653a2d45308ec8f0ab1e6b18877964">native_lstat</a>, NULL));
<a name="l01203"></a>01203   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:mkdir"</span>, 
<a name="l01204"></a>01204                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#3acd0499801dcd4e21e11c84c94f7547">native_mkdir</a>, NULL));
<a name="l01205"></a>01205   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:mkfifo"</span>, 
<a name="l01206"></a>01206                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#289996803181b5a2c22a0542ae522d20">native_mkfifo</a>, NULL));
<a name="l01207"></a>01207   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:nice"</span>, 
<a name="l01208"></a>01208                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#7eefd61a3fa6ec47d9dd60a0adf67f5a">native_nice</a>, NULL));
<a name="l01209"></a>01209   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:open"</span>, 
<a name="l01210"></a>01210                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#575f1850cdbf1c2a1a37b1258ea4f1e0">native_open</a>, NULL));
<a name="l01211"></a>01211   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:opendir"</span>, 
<a name="l01212"></a>01212                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#8866e5583e4292bcdb45479ca5050a01">native_opendir</a>, NULL));
<a name="l01213"></a>01213   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:pipe"</span>, 
<a name="l01214"></a>01214                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#6ca107ce3d57d0ccb99705d20b857fb5">native_pipe</a>, NULL));
<a name="l01215"></a>01215   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:raise"</span>, 
<a name="l01216"></a>01216                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#6926abe736730a017a09ab078be85310">native_raise</a>, NULL));
<a name="l01217"></a>01217   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:read"</span>, 
<a name="l01218"></a>01218                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#c40de24c08ac4f8bd874bf4b6c382239">native_read</a>, NULL));
<a name="l01219"></a>01219   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:readdir"</span>, 
<a name="l01220"></a>01220                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#ff554288b4a6125bb6e6c421a27b3cc6">native_readdir</a>, NULL));
<a name="l01221"></a>01221   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:rename"</span>, 
<a name="l01222"></a>01222                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#f30676c035cea3e966759c3b47e6ec25">native_rename</a>, NULL));
<a name="l01223"></a>01223   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:rmdir"</span>, 
<a name="l01224"></a>01224                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#abc200d946ca2f9735f4fede40ecb166">native_rmdir</a>, NULL));
<a name="l01225"></a>01225   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:setegid"</span>, 
<a name="l01226"></a>01226                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#d3d14d61798e8f02d5491905157cf75e">native_setegid</a>, NULL));
<a name="l01227"></a>01227   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:seteuid"</span>, 
<a name="l01228"></a>01228                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#f35cf219dc9e2e11f7a29e5c7f7c0d6a">native_seteuid</a>, NULL));
<a name="l01229"></a>01229   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:setgid"</span>, 
<a name="l01230"></a>01230                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#946bf20cb1f6737e57659ca9eb973b56">native_setgid</a>, NULL));
<a name="l01231"></a>01231   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:setuid"</span>, 
<a name="l01232"></a>01232                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#1b6b733437c08c732889bafd6b468f59">native_setuid</a>, NULL));
<a name="l01233"></a>01233   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:setpgid"</span>, 
<a name="l01234"></a>01234                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#780fee3f24274fe51230a11a6e475f51">native_setpgid</a>, NULL));
<a name="l01235"></a>01235   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:setpgrp"</span>, 
<a name="l01236"></a>01236                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#71c1437f029f7789bdb87a411e6b169d">native_setpgrp</a>, NULL));
<a name="l01237"></a>01237   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:setsid"</span>, 
<a name="l01238"></a>01238                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#7d3f7d37a9662647a4fd5b68ae8d7892">native_setsid</a>, NULL));
<a name="l01239"></a>01239   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:sleep"</span>, 
<a name="l01240"></a>01240                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#284294b4947f46ea3c69449b60541f75">native_sleep</a>, NULL));
<a name="l01241"></a>01241   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:stat"</span>, 
<a name="l01242"></a>01242                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#aa325f342b5d37c06f981256a1881bf5">native_stat</a>, NULL));
<a name="l01243"></a>01243   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:symlink"</span>, 
<a name="l01244"></a>01244                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#40547d75a0d40aedd2fd32ebee8c3160">native_symlink</a>, NULL));
<a name="l01245"></a>01245   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:sync"</span>, 
<a name="l01246"></a>01246                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#8ab507d46b7e2d42fd3ebd4f24371d26">native_sync</a>, NULL));
<a name="l01247"></a>01247   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:wait"</span>, 
<a name="l01248"></a>01248                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#a60115abd165be432d794ba1a23acc87">native_wait</a>, NULL));
<a name="l01249"></a>01249   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:waitpid"</span>, 
<a name="l01250"></a>01250                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#18b38e6e8015e6a1f0898dd36b7dad6a">native_waitpid</a>, NULL));
<a name="l01251"></a>01251   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:write"</span>, 
<a name="l01252"></a>01252                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#ad5058267a6f897d8f3e9170ac60a39e">native_write</a>, NULL));
<a name="l01253"></a>01253   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(ctx, <span class="stringliteral">"unix:unlink"</span>, 
<a name="l01254"></a>01254                     <a class="code" href="dfsch_8h.html#e65da936bd129e8b9ece1e37b1885a30">dfsch_make_primitive</a>(<a class="code" href="unix_8c.html#d5583f941cf5f532611c5dea3ca12a66">native_unlink</a>, NULL));
<a name="l01255"></a>01255   
<a name="l01256"></a>01256   <a class="code" href="load_8h.html#bc24abbbca152e9ab52394ba2f99bb87">dfsch_provide</a>(ctx, <span class="stringliteral">"unix"</span>);
<a name="l01257"></a>01257 
<a name="l01258"></a>01258   <span class="keywordflow">return</span> NULL;
<a name="l01259"></a>01259 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9fc4acf3ebbebe05c08140ec91d5fb25"></a><!-- doxytag: member="unix.h::dfsch_unix_closedir" ref="9fc4acf3ebbebe05c08140ec91d5fb25" args="(dfsch_object_t *dir_obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dfsch_unix_closedir           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dir_obj</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="unix_8c_source.html#l00084">84</a> of file <a class="el" href="unix_8c_source.html">unix.c</a>.</p>

<p>References <a class="el" href="dfsch_8c_source.html#l02008">dfsch_error()</a>, <a class="el" href="dfsch_2types_8h_source.html#l00379">DFSCH_TYPE_OF</a>, <a class="el" href="unix_8c_source.html#l00049">dir_t::dir</a>, and <a class="el" href="unix_8c_source.html#l00050">dir_t::open</a>.</p>

<p>Referenced by <a class="el" href="unix_8c_source.html#l00430">native_closedir()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00084"></a>00084                                                  {
<a name="l00085"></a>00085   <a class="code" href="structdir__t.html">dir_t</a>* dir;
<a name="l00086"></a>00086   <span class="keywordflow">if</span> (<a class="code" href="dfsch_2types_8h.html#5f142f7ca5170520a5c736a4a7d3a2b7">DFSCH_TYPE_OF</a>(dir_obj) != &amp;<a class="code" href="unix_8c.html#adaace373f3469aceebc80a3da3c982a">dir_type</a>){
<a name="l00087"></a>00087     <a class="code" href="dfsch_8h.html#646ee34c82a726fdc33d8a28af39270a">dfsch_error</a>(<span class="stringliteral">"unix:not-a-directory"</span>, dir_obj);
<a name="l00088"></a>00088   }
<a name="l00089"></a>00089   dir = (<a class="code" href="structdir__t.html">dir_t</a>*)dir_obj;
<a name="l00090"></a>00090 
<a name="l00091"></a>00091   <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdir__t.html#ba6742bbc09b961c3982105ebeee55bf">open</a>){
<a name="l00092"></a>00092     closedir(dir-&gt;<a class="code" href="structdir__t.html#d00d7db913864975d1b93f1cf5f176c0">dir</a>);
<a name="l00093"></a>00093     dir-&gt;<a class="code" href="structdir__t.html#ba6742bbc09b961c3982105ebeee55bf">open</a> = 0;
<a name="l00094"></a>00094   }
<a name="l00095"></a>00095 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7dc535a4389f399eab8fba777edea119"></a><!-- doxytag: member="unix.h::dfsch_unix_get_stat" ref="7dc535a4389f399eab8fba777edea119" args="(dfsch_object_t *stat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct stat* dfsch_unix_get_stat           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stat</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="unix_8c_source.html#l00211">211</a> of file <a class="el" href="unix_8c_source.html">unix.c</a>.</p>

<p>References <a class="el" href="dfsch_8c_source.html#l02008">dfsch_error()</a>, and <a class="el" href="dfsch_2types_8h_source.html#l00379">DFSCH_TYPE_OF</a>.</p>

<p>Referenced by <a class="el" href="unix_8c_source.html#l00514">native_fstat()</a>, <a class="el" href="unix_8c_source.html#l00741">native_lstat()</a>, and <a class="el" href="unix_8c_source.html#l01012">native_stat()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00211"></a>00211                                                       {
<a name="l00212"></a>00212   <span class="keywordflow">if</span> (<a class="code" href="dfsch_2types_8h.html#5f142f7ca5170520a5c736a4a7d3a2b7">DFSCH_TYPE_OF</a>(stat) != &amp;<a class="code" href="unix_8c.html#9ce8caf26d6d006ccb0bb07e5c75a236">stat_type</a>){
<a name="l00213"></a>00213     <a class="code" href="dfsch_8h.html#646ee34c82a726fdc33d8a28af39270a">dfsch_error</a>(<span class="stringliteral">"unix:not-a-stat-struct"</span>, stat);
<a name="l00214"></a>00214   }
<a name="l00215"></a>00215 
<a name="l00216"></a>00216   <span class="keywordflow">return</span> &amp;(((<a class="code" href="structstat__t.html">stat_t</a>*)stat)-&gt;st);
<a name="l00217"></a>00217 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="db02041028ce777bc7f8c1b883998533"></a><!-- doxytag: member="unix.h::dfsch_unix_make_stat_struct" ref="db02041028ce777bc7f8c1b883998533" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a>* dfsch_unix_make_stat_struct           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="unix_8c_source.html#l00207">207</a> of file <a class="el" href="unix_8c_source.html">unix.c</a>.</p>

<p>References <a class="el" href="dfsch_8c_source.html#l00071">dfsch_make_object()</a>.</p>

<p>Referenced by <a class="el" href="unix_8c_source.html#l00514">native_fstat()</a>, <a class="el" href="unix_8c_source.html#l00741">native_lstat()</a>, and <a class="el" href="unix_8c_source.html#l01012">native_stat()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00207"></a>00207                                              {
<a name="l00208"></a>00208   <span class="keywordflow">return</span> <a class="code" href="dfsch_8h.html#8aa9f840eedefa1a63cbce47cee49547">dfsch_make_object</a>(&amp;<a class="code" href="unix_8c.html#9ce8caf26d6d006ccb0bb07e5c75a236">stat_type</a>);
<a name="l00209"></a>00209 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="bcd3f96906bc193e0cc5ce5c7c1a7f68"></a><!-- doxytag: member="unix.h::dfsch_unix_opendir" ref="bcd3f96906bc193e0cc5ce5c7c1a7f68" args="(char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a>* dfsch_unix_opendir           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="unix_8c_source.html#l00071">71</a> of file <a class="el" href="unix_8c_source.html">unix.c</a>.</p>

<p>References <a class="el" href="dfsch_8c_source.html#l00071">dfsch_make_object()</a>, <a class="el" href="conditions_8c_source.html#l00393">dfsch_operating_system_error()</a>, <a class="el" href="unix_8c_source.html#l00049">dir_t::dir</a>, <a class="el" href="unix_8c_source.html#l00064">dir_finalizer()</a>, and <a class="el" href="unix_8c_source.html#l00050">dir_t::open</a>.</p>

<p>Referenced by <a class="el" href="unix_8c_source.html#l00826">native_opendir()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00071"></a>00071                                               {
<a name="l00072"></a>00072   <a class="code" href="structdir__t.html">dir_t</a>* dir = (<a class="code" href="structdir__t.html">dir_t</a>*)<a class="code" href="dfsch_8h.html#8aa9f840eedefa1a63cbce47cee49547">dfsch_make_object</a>(&amp;<a class="code" href="unix_8c.html#adaace373f3469aceebc80a3da3c982a">dir_type</a>);
<a name="l00073"></a>00073 
<a name="l00074"></a>00074   dir-&gt;<a class="code" href="structdir__t.html#d00d7db913864975d1b93f1cf5f176c0">dir</a> = opendir(name);
<a name="l00075"></a>00075   <span class="keywordflow">if</span> (!dir-&gt;<a class="code" href="structdir__t.html#d00d7db913864975d1b93f1cf5f176c0">dir</a>){
<a name="l00076"></a>00076     <a class="code" href="conditions_8h.html#9123bbb24571dba4acf71c2aa390c50d">dfsch_operating_system_error</a>(<span class="stringliteral">"opendir"</span>);
<a name="l00077"></a>00077   }
<a name="l00078"></a>00078   dir-&gt;<a class="code" href="structdir__t.html#ba6742bbc09b961c3982105ebeee55bf">open</a> = 1;
<a name="l00079"></a>00079   GC_REGISTER_FINALIZER(dir, (GC_finalization_proc)<a class="code" href="unix_8c.html#bb9b107c9373cc0f5d2def46ee9da90d">dir_finalizer</a>,
<a name="l00080"></a>00080                         NULL, NULL, NULL);
<a name="l00081"></a>00081   <span class="keywordflow">return</span> (<a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>*) dir;
<a name="l00082"></a>00082 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4827bea2ed974e88bba66501f4e4a40b"></a><!-- doxytag: member="unix.h::dfsch_unix_readdir" ref="4827bea2ed974e88bba66501f4e4a40b" args="(dfsch_object_t *dir_obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* dfsch_unix_readdir           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfsch__object__t.html">dfsch_object_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dir_obj</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="unix_8c_source.html#l00097">97</a> of file <a class="el" href="unix_8c_source.html">unix.c</a>.</p>

<p>References <a class="el" href="dfsch_8c_source.html#l02008">dfsch_error()</a>, <a class="el" href="conditions_8c_source.html#l00393">dfsch_operating_system_error()</a>, <a class="el" href="dfsch_2types_8h_source.html#l00379">DFSCH_TYPE_OF</a>, <a class="el" href="unix_8c_source.html#l00049">dir_t::dir</a>, and <a class="el" href="unix_8c_source.html#l00050">dir_t::open</a>.</p>

<p>Referenced by <a class="el" href="unix_8c_source.html#l00891">native_readdir()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00097"></a>00097                                                  {
<a name="l00098"></a>00098   <a class="code" href="structdir__t.html">dir_t</a>* dir;
<a name="l00099"></a>00099   <span class="keyword">struct </span>dirent* dent;
<a name="l00100"></a>00100   <span class="keywordflow">if</span> (<a class="code" href="dfsch_2types_8h.html#5f142f7ca5170520a5c736a4a7d3a2b7">DFSCH_TYPE_OF</a>(dir_obj) != &amp;<a class="code" href="unix_8c.html#adaace373f3469aceebc80a3da3c982a">dir_type</a>){
<a name="l00101"></a>00101     <a class="code" href="dfsch_8h.html#646ee34c82a726fdc33d8a28af39270a">dfsch_error</a>(<span class="stringliteral">"unix:not-a-directory"</span>, dir_obj);
<a name="l00102"></a>00102   }
<a name="l00103"></a>00103   dir = (<a class="code" href="structdir__t.html">dir_t</a>*)dir_obj;
<a name="l00104"></a>00104 
<a name="l00105"></a>00105   <span class="keywordflow">if</span> (!dir-&gt;<a class="code" href="structdir__t.html#ba6742bbc09b961c3982105ebeee55bf">open</a>){
<a name="l00106"></a>00106     <a class="code" href="dfsch_8h.html#646ee34c82a726fdc33d8a28af39270a">dfsch_error</a>(<span class="stringliteral">"unix:directory-object-is-closed"</span>, dir_obj);    
<a name="l00107"></a>00107   }
<a name="l00108"></a>00108 
<a name="l00109"></a>00109   errno = 0;
<a name="l00110"></a>00110   dent = readdir(dir-&gt;<a class="code" href="structdir__t.html#d00d7db913864975d1b93f1cf5f176c0">dir</a>);
<a name="l00111"></a>00111   <span class="keywordflow">if</span> (!dent){
<a name="l00112"></a>00112     <span class="keywordflow">if</span> (errno != 0){
<a name="l00113"></a>00113       <a class="code" href="conditions_8h.html#9123bbb24571dba4acf71c2aa390c50d">dfsch_operating_system_error</a>(<span class="stringliteral">"readdir"</span>);    
<a name="l00114"></a>00114     } <span class="keywordflow">else</span> {
<a name="l00115"></a>00115       <span class="keywordflow">return</span> NULL;
<a name="l00116"></a>00116     }
<a name="l00117"></a>00117   }
<a name="l00118"></a>00118 
<a name="l00119"></a>00119   <span class="keywordflow">return</span> dent-&gt;d_name;
<a name="l00120"></a>00120 }
</pre></div>
<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jul 3 16:02:14 2009 for dfsch by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
