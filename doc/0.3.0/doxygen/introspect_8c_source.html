<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>dfsch: src/introspect.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>src/introspect.c</h1><a href="introspect_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include "<a class="code" href="introspect_8h.html">dfsch/introspect.h</a>"</span>
<a name="l00002"></a>00002 <span class="preprocessor">#include &lt;<a class="code" href="magic_8h.html">dfsch/magic.h</a>&gt;</span>
<a name="l00003"></a>00003 <span class="preprocessor">#include "<a class="code" href="src_2types_8h.html">types.h</a>"</span>
<a name="l00004"></a>00004 <span class="preprocessor">#include "<a class="code" href="src_2util_8h.html">util.h</a>"</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="introspect_8c.html#dc388222dd1fc42ca7a6b56af3ab2044">safe_print_object</a>();
<a name="l00009"></a>00009 
<a name="l00010"></a><a class="code" href="introspect_8c.html#2ec1b5bdab256e28a725d1d5cb2c20a2">00010</a> <span class="keywordtype">char</span>* <a class="code" href="introspect_8c.html#2ec1b5bdab256e28a725d1d5cb2c20a2">dfsch_format_trace</a>(<a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* trace){
<a name="l00011"></a>00011   <a class="code" href="structdfsch__str__list__t.html">str_list_t</a>* sl = <a class="code" href="src_2util_8h.html#8c11c689e82524c1071e22cb8b624b2b">sl_create</a>();
<a name="l00012"></a>00012   
<a name="l00013"></a>00013   <span class="keywordflow">while</span> (<a class="code" href="dfsch_2types_8h.html#6ec0a17695d07350d56eaffe994e29f4">DFSCH_PAIR_P</a>(trace)){
<a name="l00014"></a>00014     <span class="keywordflow">if</span> (<a class="code" href="dfsch_8h.html#4f811b06e8c3e6350421c3f5b2e3e7a8">dfsch_vector_p</a>(<a class="code" href="dfsch_2types_8h.html#873da07e10c696bf321a42629cdb863e">DFSCH_FAST_CAR</a>(trace))){
<a name="l00015"></a>00015       <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* tag = <a class="code" href="dfsch_8h.html#ddc613786ed28cdc6a3778ddc2af69af">dfsch_vector_ref</a>(<a class="code" href="dfsch_2types_8h.html#873da07e10c696bf321a42629cdb863e">DFSCH_FAST_CAR</a>(trace), 0);
<a name="l00016"></a>00016       <span class="keywordflow">if</span> (<a class="code" href="dfsch_8h.html#bf4e20ee44c29a43ac2c642da5940674">dfsch_compare_symbol</a>(tag, <span class="stringliteral">"apply"</span>)){
<a name="l00017"></a>00017         <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* proc = <a class="code" href="dfsch_8h.html#ddc613786ed28cdc6a3778ddc2af69af">dfsch_vector_ref</a>(<a class="code" href="dfsch_2types_8h.html#873da07e10c696bf321a42629cdb863e">DFSCH_FAST_CAR</a>(trace), 1);
<a name="l00018"></a>00018         <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* args = <a class="code" href="dfsch_8h.html#ddc613786ed28cdc6a3778ddc2af69af">dfsch_vector_ref</a>(<a class="code" href="dfsch_2types_8h.html#873da07e10c696bf321a42629cdb863e">DFSCH_FAST_CAR</a>(trace), 2); 
<a name="l00019"></a>00019         <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* flags = <a class="code" href="dfsch_8h.html#ddc613786ed28cdc6a3778ddc2af69af">dfsch_vector_ref</a>(<a class="code" href="dfsch_2types_8h.html#873da07e10c696bf321a42629cdb863e">DFSCH_FAST_CAR</a>(trace), 3);
<a name="l00020"></a>00020         <a class="code" href="src_2util_8h.html#ea77ca09dcdd213c39917a07b15c525b">sl_printf</a>(sl, <span class="stringliteral">"  APPLY %s %s\n      %s\n"</span>,
<a name="l00021"></a>00021                   <a class="code" href="dfsch_8h.html#45109c5c43dddadee8fcc6de8db59c1e">dfsch_object_2_string</a>(proc, 10, 1),
<a name="l00022"></a>00022                   <a class="code" href="dfsch_8h.html#45109c5c43dddadee8fcc6de8db59c1e">dfsch_object_2_string</a>(flags, 10, 1),
<a name="l00023"></a>00023                   <a class="code" href="dfsch_8h.html#45109c5c43dddadee8fcc6de8db59c1e">dfsch_object_2_string</a>(args, 10, 1));
<a name="l00024"></a>00024 
<a name="l00025"></a>00025       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="dfsch_8h.html#bf4e20ee44c29a43ac2c642da5940674">dfsch_compare_symbol</a>(tag, <span class="stringliteral">"eval"</span>)){
<a name="l00026"></a>00026         <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* expr = <a class="code" href="dfsch_8h.html#ddc613786ed28cdc6a3778ddc2af69af">dfsch_vector_ref</a>(<a class="code" href="dfsch_2types_8h.html#873da07e10c696bf321a42629cdb863e">DFSCH_FAST_CAR</a>(trace), 1);
<a name="l00027"></a>00027         <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* annot = <a class="code" href="dfsch_8h.html#8b7e45eea61986bc89746e573f0c56c1">dfsch_get_list_annotation</a>(expr);
<a name="l00028"></a>00028         <a class="code" href="src_2util_8h.html#ea77ca09dcdd213c39917a07b15c525b">sl_printf</a>(sl, <span class="stringliteral">"    EVAL %s\n"</span>,
<a name="l00029"></a>00029                   <a class="code" href="dfsch_8h.html#45109c5c43dddadee8fcc6de8db59c1e">dfsch_object_2_string</a>(expr, 10, 1));
<a name="l00030"></a>00030         <span class="keywordflow">if</span> (annot){
<a name="l00031"></a>00031           <a class="code" href="src_2util_8h.html#ea77ca09dcdd213c39917a07b15c525b">sl_printf</a>(sl, <span class="stringliteral">"     @ %s:%s\n"</span>, 
<a name="l00032"></a>00032                   <a class="code" href="dfsch_8h.html#45109c5c43dddadee8fcc6de8db59c1e">dfsch_object_2_string</a>(<a class="code" href="dfsch_2types_8h.html#873da07e10c696bf321a42629cdb863e">DFSCH_FAST_CAR</a>(annot), 2, 0),
<a name="l00033"></a>00033                   <a class="code" href="dfsch_8h.html#45109c5c43dddadee8fcc6de8db59c1e">dfsch_object_2_string</a>(<a class="code" href="dfsch_2types_8h.html#9621e19e10bbf916d031fc55631f48df">DFSCH_FAST_CDR</a>(annot), 1, 0));
<a name="l00034"></a>00034           
<a name="l00035"></a>00035         }
<a name="l00036"></a>00036 
<a name="l00037"></a>00037       } <span class="keywordflow">else</span> {
<a name="l00038"></a>00038         <a class="code" href="src_2util_8h.html#ea77ca09dcdd213c39917a07b15c525b">sl_printf</a>(sl, <span class="stringliteral">"  UNKNOWN %s\n"</span>, 
<a name="l00039"></a>00039                   <a class="code" href="dfsch_8h.html#45109c5c43dddadee8fcc6de8db59c1e">dfsch_object_2_string</a>(<a class="code" href="dfsch_2types_8h.html#873da07e10c696bf321a42629cdb863e">DFSCH_FAST_CAR</a>(trace),
<a name="l00040"></a>00040                                         10, 1));
<a name="l00041"></a>00041       }
<a name="l00042"></a>00042     } <span class="keywordflow">else</span> {
<a name="l00043"></a>00043       <a class="code" href="src_2util_8h.html#ea77ca09dcdd213c39917a07b15c525b">sl_printf</a>(sl, <span class="stringliteral">"  INVALID %s\n"</span>, 
<a name="l00044"></a>00044                 <a class="code" href="dfsch_8h.html#45109c5c43dddadee8fcc6de8db59c1e">dfsch_object_2_string</a>(<a class="code" href="dfsch_2types_8h.html#873da07e10c696bf321a42629cdb863e">DFSCH_FAST_CAR</a>(trace),
<a name="l00045"></a>00045                                       10, 1));
<a name="l00046"></a>00046     }
<a name="l00047"></a>00047 
<a name="l00048"></a>00048     trace = <a class="code" href="dfsch_2types_8h.html#9621e19e10bbf916d031fc55631f48df">DFSCH_FAST_CDR</a>(trace);
<a name="l00049"></a>00049   }
<a name="l00050"></a>00050   <span class="keywordflow">return</span> <a class="code" href="src_2util_8h.html#5d830b7829284266f7ea5edd1c4c906a">sl_value</a>(sl);
<a name="l00051"></a>00051 }
<a name="l00052"></a>00052 
<a name="l00053"></a><a class="code" href="introspect_8c.html#a03f2d2a7e6bfab5b2e3554cfd20e4a2">00053</a> <span class="keywordtype">void</span> <a class="code" href="introspect_8h.html#a03f2d2a7e6bfab5b2e3554cfd20e4a2">dfsch_print_trace_buffer</a>(){
<a name="l00054"></a>00054   <span class="keywordtype">int</span> i;
<a name="l00055"></a>00055   <a class="code" href="structdfsch____thread__info__t.html">dfsch__thread_info_t</a>* ti = <a class="code" href="magic_8h.html#04b33f56258adffd197b27d210525b83">dfsch__get_thread_info</a>();
<a name="l00056"></a>00056 
<a name="l00057"></a>00057   <span class="keywordflow">for</span> (i = 0; i &lt;= ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#3fc949b2d5d482d276b5febc4c3579cd">trace_depth</a>; i++){
<a name="l00058"></a>00058     <span class="keywordflow">if</span> (i == ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d788040f25d98421a683dc20e6b22483">trace_ptr</a>){
<a name="l00059"></a>00059       fprintf(stderr, <span class="stringliteral">"&gt; "</span>);
<a name="l00060"></a>00060     } <span class="keywordflow">else</span> {
<a name="l00061"></a>00061       fprintf(stderr, <span class="stringliteral">"  "</span>);
<a name="l00062"></a>00062     }
<a name="l00063"></a>00063     <span class="keywordflow">switch</span> (ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#4445e34e0c1bd7dc8f4e21b02c7945a3">flags</a> &amp; 0xff){
<a name="l00064"></a>00064     <span class="keywordflow">case</span> <a class="code" href="magic_8h.html#6c256cb15a99507b2f81fc3d7c3e8428">DFSCH_TRACEPOINT_KIND_INVALID</a>:
<a name="l00065"></a>00065       fprintf(stderr, <span class="stringliteral">"0x00000000\n"</span>);
<a name="l00066"></a>00066       <span class="keywordflow">break</span>;
<a name="l00067"></a>00067     <span class="keywordflow">case</span> <a class="code" href="magic_8h.html#89b63f2639152d9e3c633d43a5e69bc3">DFSCH_TRACEPOINT_KIND_APPLY</a>:
<a name="l00068"></a>00068       fprintf(stderr, <span class="stringliteral">"0x%08x %p (%s) %p (%s)\n"</span>, 
<a name="l00069"></a>00069               ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#4445e34e0c1bd7dc8f4e21b02c7945a3">flags</a>,
<a name="l00070"></a>00070               ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.apply.proc,
<a name="l00071"></a>00071               <a class="code" href="dfsch_2types_8h.html#5f142f7ca5170520a5c736a4a7d3a2b7">DFSCH_TYPE_OF</a>(ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.apply.proc)-&gt;name,
<a name="l00072"></a>00072               ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.apply.args,
<a name="l00073"></a>00073               <a class="code" href="dfsch_2types_8h.html#5f142f7ca5170520a5c736a4a7d3a2b7">DFSCH_TYPE_OF</a>(ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.apply.args)-&gt;name);
<a name="l00074"></a>00074       fprintf(stderr, <span class="stringliteral">"       %s\n     %s\n"</span>, 
<a name="l00075"></a>00075               <a class="code" href="dfsch_8h.html#45109c5c43dddadee8fcc6de8db59c1e">dfsch_object_2_string</a>(ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.apply.proc, 
<a name="l00076"></a>00076                                     10, 1),
<a name="l00077"></a>00077               <a class="code" href="dfsch_8h.html#45109c5c43dddadee8fcc6de8db59c1e">dfsch_object_2_string</a>(ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.apply.args, 
<a name="l00078"></a>00078                                     10, 1));
<a name="l00079"></a>00079       <span class="keywordflow">break</span>;
<a name="l00080"></a>00080     <span class="keywordflow">case</span> <a class="code" href="magic_8h.html#392c3ec36a642e9a4dc11aa5a54ef7b0">DFSCH_TRACEPOINT_KIND_EVAL</a>:
<a name="l00081"></a>00081       {
<a name="l00082"></a>00082         <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* annot = 
<a name="l00083"></a>00083           <a class="code" href="dfsch_8h.html#8b7e45eea61986bc89746e573f0c56c1">dfsch_get_list_annotation</a>(ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.eval.expr);
<a name="l00084"></a>00084         fprintf(stderr, <span class="stringliteral">"0x%08x %p (%s) %p (%s)\n"</span>, 
<a name="l00085"></a>00085                 ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#4445e34e0c1bd7dc8f4e21b02c7945a3">flags</a>,
<a name="l00086"></a>00086                 ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.eval.expr,
<a name="l00087"></a>00087                 <a class="code" href="dfsch_2types_8h.html#5f142f7ca5170520a5c736a4a7d3a2b7">DFSCH_TYPE_OF</a>(ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.eval.expr)-&gt;name,
<a name="l00088"></a>00088                 ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.eval.env,
<a name="l00089"></a>00089                 <a class="code" href="dfsch_2types_8h.html#5f142f7ca5170520a5c736a4a7d3a2b7">DFSCH_TYPE_OF</a>(ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.eval.env)-&gt;name);
<a name="l00090"></a>00090         fprintf(stderr, <span class="stringliteral">"     %s\n"</span>, 
<a name="l00091"></a>00091                 <a class="code" href="dfsch_8h.html#45109c5c43dddadee8fcc6de8db59c1e">dfsch_object_2_string</a>(ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.apply.proc, 
<a name="l00092"></a>00092                                       10, 1));
<a name="l00093"></a>00093         <span class="keywordflow">if</span> (annot){
<a name="l00094"></a>00094           fprintf(stderr, <span class="stringliteral">"       @ %s:%s\n"</span>, 
<a name="l00095"></a>00095                   <a class="code" href="dfsch_8h.html#45109c5c43dddadee8fcc6de8db59c1e">dfsch_object_2_string</a>(<a class="code" href="dfsch_2types_8h.html#873da07e10c696bf321a42629cdb863e">DFSCH_FAST_CAR</a>(annot), 2, 0),
<a name="l00096"></a>00096                   <a class="code" href="dfsch_8h.html#45109c5c43dddadee8fcc6de8db59c1e">dfsch_object_2_string</a>(<a class="code" href="dfsch_2types_8h.html#9621e19e10bbf916d031fc55631f48df">DFSCH_FAST_CDR</a>(annot), 1, 0));
<a name="l00097"></a>00097           
<a name="l00098"></a>00098         }
<a name="l00099"></a>00099       }
<a name="l00100"></a>00100       <span class="keywordflow">break</span>;
<a name="l00101"></a>00101     }
<a name="l00102"></a>00102   }
<a name="l00103"></a>00103 }
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 
<a name="l00106"></a><a class="code" href="introspect_8c.html#700249d362d951f622034fdfdc4da57e">00106</a> <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* <a class="code" href="introspect_8c.html#700249d362d951f622034fdfdc4da57e">dfsch_get_trace</a>(){
<a name="l00107"></a>00107   <span class="keywordtype">int</span> i;
<a name="l00108"></a>00108   <a class="code" href="structdfsch____thread__info__t.html">dfsch__thread_info_t</a>* ti = <a class="code" href="magic_8h.html#04b33f56258adffd197b27d210525b83">dfsch__get_thread_info</a>();
<a name="l00109"></a>00109   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* list = NULL;
<a name="l00110"></a>00110   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* record;
<a name="l00111"></a>00111   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* flags;
<a name="l00112"></a>00112   i = ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d788040f25d98421a683dc20e6b22483">trace_ptr</a>;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114   <span class="keywordflow">do</span> {
<a name="l00115"></a>00115     <span class="keywordflow">if</span> ((ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#4445e34e0c1bd7dc8f4e21b02c7945a3">flags</a> &amp; 0xff) == <a class="code" href="magic_8h.html#6c256cb15a99507b2f81fc3d7c3e8428">DFSCH_TRACEPOINT_KIND_INVALID</a>){
<a name="l00116"></a>00116       <span class="keywordflow">break</span>;
<a name="l00117"></a>00117     }
<a name="l00118"></a>00118 
<a name="l00119"></a>00119     <span class="keywordflow">switch</span> (ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#4445e34e0c1bd7dc8f4e21b02c7945a3">flags</a> &amp; 0xff){
<a name="l00120"></a>00120     <span class="keywordflow">case</span> <a class="code" href="magic_8h.html#89b63f2639152d9e3c633d43a5e69bc3">DFSCH_TRACEPOINT_KIND_APPLY</a>:
<a name="l00121"></a>00121       flags = NULL;
<a name="l00122"></a>00122 
<a name="l00123"></a>00123       <span class="keywordflow">if</span> (ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#4445e34e0c1bd7dc8f4e21b02c7945a3">flags</a> &amp; <a class="code" href="magic_8h.html#cd985f960da71003cd089f21a9ca307b">DFSCH_TRACEPOINT_FLAG_APPLY_TAIL</a>) {
<a name="l00124"></a>00124         flags = <a class="code" href="dfsch_8h.html#e5734a250a429a47731c7cc4ff9b5e12">dfsch_cons_immutable</a>(<a class="code" href="dfsch_8h.html#f089f50dde23f0a132670368a9e341d5">dfsch_make_symbol</a>(<span class="stringliteral">"tail"</span>), flags);
<a name="l00125"></a>00125       }
<a name="l00126"></a>00126       <span class="keywordflow">if</span> (ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#4445e34e0c1bd7dc8f4e21b02c7945a3">flags</a> &amp; <a class="code" href="magic_8h.html#1a13843e88792381b9a9dc5fe06d96a0">DFSCH_TRACEPOINT_FLAG_APPLY_LAZY</a>) {
<a name="l00127"></a>00127         flags = <a class="code" href="dfsch_8h.html#e5734a250a429a47731c7cc4ff9b5e12">dfsch_cons_immutable</a>(<a class="code" href="dfsch_8h.html#f089f50dde23f0a132670368a9e341d5">dfsch_make_symbol</a>(<span class="stringliteral">"lazy"</span>), flags);
<a name="l00128"></a>00128       }
<a name="l00129"></a>00129 
<a name="l00130"></a>00130       record = <a class="code" href="dfsch_8h.html#25885557acc18590c3c16e2233dfb3aa">dfsch_vector</a>(4,
<a name="l00131"></a>00131                             <a class="code" href="dfsch_8h.html#f089f50dde23f0a132670368a9e341d5">dfsch_make_symbol</a>(<span class="stringliteral">"apply"</span>),
<a name="l00132"></a>00132                             ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.apply.proc,
<a name="l00133"></a>00133                             ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.apply.args,
<a name="l00134"></a>00134                             flags);
<a name="l00135"></a>00135       <span class="keywordflow">break</span>;
<a name="l00136"></a>00136     <span class="keywordflow">case</span> <a class="code" href="magic_8h.html#392c3ec36a642e9a4dc11aa5a54ef7b0">DFSCH_TRACEPOINT_KIND_EVAL</a>:
<a name="l00137"></a>00137       record = <a class="code" href="dfsch_8h.html#25885557acc18590c3c16e2233dfb3aa">dfsch_vector</a>(3,
<a name="l00138"></a>00138                             <a class="code" href="dfsch_8h.html#f089f50dde23f0a132670368a9e341d5">dfsch_make_symbol</a>(<span class="stringliteral">"eval"</span>),
<a name="l00139"></a>00139                             ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.eval.expr,
<a name="l00140"></a>00140                             ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#05111938b8860589d7ca8a2dbf574c09">data</a>.eval.env);
<a name="l00141"></a>00141       <span class="keywordflow">break</span>;
<a name="l00142"></a>00142         
<a name="l00143"></a>00143     <span class="keywordflow">default</span>:
<a name="l00144"></a>00144       record = <a class="code" href="dfsch_2types_8h.html#eefb4632e7dfed15f6454624303becff">DFSCH_MAKE_FIXNUM</a>(ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d8da261513955ada0551f68de0a8a1c4">trace_buffer</a>[i].<a class="code" href="structdfsch____tracepoint__t.html#4445e34e0c1bd7dc8f4e21b02c7945a3">flags</a>);
<a name="l00145"></a>00145       <span class="keywordflow">break</span>;
<a name="l00146"></a>00146     }
<a name="l00147"></a>00147 
<a name="l00148"></a>00148     list = <a class="code" href="dfsch_8h.html#e5734a250a429a47731c7cc4ff9b5e12">dfsch_cons_immutable</a>(record, list);
<a name="l00149"></a>00149 
<a name="l00150"></a>00150     i = (i - 1) &amp; ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#3fc949b2d5d482d276b5febc4c3579cd">trace_depth</a>;
<a name="l00151"></a>00151   } <span class="keywordflow">while</span> (i != ti-&gt;<a class="code" href="structdfsch____thread__info__t.html#d788040f25d98421a683dc20e6b22483">trace_ptr</a>);
<a name="l00152"></a>00152   
<a name="l00153"></a>00153   <span class="keywordflow">return</span> list;
<a name="l00154"></a>00154 }
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 
<a name="l00157"></a><a class="code" href="introspect_8c.html#9a8e1c0e8394a931090e0a1fb313592a">00157</a> <a class="code" href="dfsch_2types_8h.html#a16d7f58f1b7cc578eb70966b58b2d7b">DFSCH_DEFINE_PRIMITIVE</a>(set_debugger, 0){
<a name="l00158"></a>00158   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* proc;
<a name="l00159"></a>00159   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, proc);
<a name="l00160"></a>00160   <a class="code" href="dfsch_8h.html#8c247d26136de4e55eb78870c15b19df">DFSCH_ARG_END</a>(args);
<a name="l00161"></a>00161   
<a name="l00162"></a>00162   <a class="code" href="conditions_8h.html#96e9eb62a414da301184f85bfcefa16c">dfsch_set_debugger</a>(proc);
<a name="l00163"></a>00163   <span class="keywordflow">return</span> NULL;
<a name="l00164"></a>00164 }
<a name="l00165"></a><a class="code" href="introspect_8c.html#22f2cfcc1098c18fb3cc027ffe87ca08">00165</a> <a class="code" href="dfsch_2types_8h.html#a16d7f58f1b7cc578eb70966b58b2d7b">DFSCH_DEFINE_PRIMITIVE</a>(set_invoke_debugger_on_all_conditions, 0){
<a name="l00166"></a>00166   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* val;
<a name="l00167"></a>00167   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, val);
<a name="l00168"></a>00168   <a class="code" href="dfsch_8h.html#8c247d26136de4e55eb78870c15b19df">DFSCH_ARG_END</a>(args);
<a name="l00169"></a>00169   
<a name="l00170"></a>00170   <a class="code" href="conditions_8h.html#7100babacebf412cb84631aa98fab569">dfsch_set_invoke_debugger_on_all_conditions</a>(val != NULL);
<a name="l00171"></a>00171   <span class="keywordflow">return</span> NULL;
<a name="l00172"></a>00172 }
<a name="l00173"></a><a class="code" href="introspect_8c.html#5e271025fe5bee2a5785df3f33db70e9">00173</a> <a class="code" href="dfsch_2types_8h.html#a16d7f58f1b7cc578eb70966b58b2d7b">DFSCH_DEFINE_PRIMITIVE</a>(enter_debugger, 0){
<a name="l00174"></a>00174   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* reason;
<a name="l00175"></a>00175   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, reason);
<a name="l00176"></a>00176   <a class="code" href="dfsch_8h.html#8c247d26136de4e55eb78870c15b19df">DFSCH_ARG_END</a>(args);
<a name="l00177"></a>00177   
<a name="l00178"></a>00178   <a class="code" href="conditions_8h.html#b8e06032380bcb9610f6983d9d711a33">dfsch_enter_debugger</a>(reason);
<a name="l00179"></a>00179 
<a name="l00180"></a>00180   <span class="keywordflow">return</span> NULL;
<a name="l00181"></a>00181 }
<a name="l00182"></a>00182 
<a name="l00183"></a><a class="code" href="introspect_8c.html#e7e7b6b0c98bd257bd212733a90815ca">00183</a> <a class="code" href="dfsch_2types_8h.html#a16d7f58f1b7cc578eb70966b58b2d7b">DFSCH_DEFINE_PRIMITIVE</a>(lookup_in_environment, 0){
<a name="l00184"></a>00184   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* name;
<a name="l00185"></a>00185   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* env;
<a name="l00186"></a>00186   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, name);
<a name="l00187"></a>00187   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, env);
<a name="l00188"></a>00188   <a class="code" href="dfsch_8h.html#8c247d26136de4e55eb78870c15b19df">DFSCH_ARG_END</a>(args);
<a name="l00189"></a>00189 
<a name="l00190"></a>00190   <span class="keywordflow">return</span> <a class="code" href="dfsch_8h.html#906d7059ec2f65a097aedab2d14bce70">dfsch_lookup</a>(name, env);
<a name="l00191"></a>00191 }
<a name="l00192"></a><a class="code" href="introspect_8c.html#477237c870ab824ab0e930536cc004c2">00192</a> <a class="code" href="dfsch_2types_8h.html#a16d7f58f1b7cc578eb70966b58b2d7b">DFSCH_DEFINE_PRIMITIVE</a>(set_in_environment, 0){
<a name="l00193"></a>00193   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* name;
<a name="l00194"></a>00194   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* env;
<a name="l00195"></a>00195   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* value;
<a name="l00196"></a>00196   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, name);
<a name="l00197"></a>00197   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, value);
<a name="l00198"></a>00198   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, env);
<a name="l00199"></a>00199   <a class="code" href="dfsch_8h.html#8c247d26136de4e55eb78870c15b19df">DFSCH_ARG_END</a>(args);
<a name="l00200"></a>00200   
<a name="l00201"></a>00201   <a class="code" href="dfsch_8h.html#2d7b3fe2f1501d50a20abedc82bfb433">dfsch_set</a>(name, value, env);
<a name="l00202"></a>00202   <span class="keywordflow">return</span> NULL;
<a name="l00203"></a>00203 }
<a name="l00204"></a><a class="code" href="introspect_8c.html#d98b42a173318dd313017b8527c9dfd3">00204</a> <a class="code" href="dfsch_2types_8h.html#a16d7f58f1b7cc578eb70966b58b2d7b">DFSCH_DEFINE_PRIMITIVE</a>(define_in_environment, 0){
<a name="l00205"></a>00205   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* name;
<a name="l00206"></a>00206   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* env;
<a name="l00207"></a>00207   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* value;
<a name="l00208"></a>00208   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, name);
<a name="l00209"></a>00209   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, value);
<a name="l00210"></a>00210   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, env);
<a name="l00211"></a>00211   <a class="code" href="dfsch_8h.html#8c247d26136de4e55eb78870c15b19df">DFSCH_ARG_END</a>(args);
<a name="l00212"></a>00212   
<a name="l00213"></a>00213   <a class="code" href="dfsch_8h.html#0269ff68c7264db9598185860983619b">dfsch_define</a>(name, value, env);
<a name="l00214"></a>00214   <span class="keywordflow">return</span> NULL;
<a name="l00215"></a>00215 }
<a name="l00216"></a><a class="code" href="introspect_8c.html#4a78fcb17745efa36a55a13e8d282a93">00216</a> <a class="code" href="dfsch_2types_8h.html#a16d7f58f1b7cc578eb70966b58b2d7b">DFSCH_DEFINE_PRIMITIVE</a>(unset_from_environment, 0){
<a name="l00217"></a>00217   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* name;
<a name="l00218"></a>00218   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* env;
<a name="l00219"></a>00219   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* value;
<a name="l00220"></a>00220   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, name);
<a name="l00221"></a>00221   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, env);
<a name="l00222"></a>00222   <a class="code" href="dfsch_8h.html#8c247d26136de4e55eb78870c15b19df">DFSCH_ARG_END</a>(args);
<a name="l00223"></a>00223   
<a name="l00224"></a>00224   <a class="code" href="dfsch_8h.html#a0e7bdb22e2c74b4de865d00fdebe6fd">dfsch_unset</a>(name, env);
<a name="l00225"></a>00225   <span class="keywordflow">return</span> NULL;
<a name="l00226"></a>00226 }
<a name="l00227"></a><a class="code" href="introspect_8c.html#00393173ee7b13afc23fd913056c8510">00227</a> <a class="code" href="dfsch_2types_8h.html#a16d7f58f1b7cc578eb70966b58b2d7b">DFSCH_DEFINE_PRIMITIVE</a>(get_variables, 0){
<a name="l00228"></a>00228   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* env;
<a name="l00229"></a>00229   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, env);
<a name="l00230"></a>00230   <a class="code" href="dfsch_8h.html#8c247d26136de4e55eb78870c15b19df">DFSCH_ARG_END</a>(args);
<a name="l00231"></a>00231   
<a name="l00232"></a>00232   <span class="keywordflow">return</span> <a class="code" href="dfsch_8h.html#7e376548fcb5e13574c12bc346f3018d">dfsch_get_environment_variables</a>(env);
<a name="l00233"></a>00233 }
<a name="l00234"></a>00234 
<a name="l00235"></a><a class="code" href="introspect_8c.html#25e9d358a922778c190a81b87f58c707">00235</a> <a class="code" href="dfsch_2types_8h.html#a16d7f58f1b7cc578eb70966b58b2d7b">DFSCH_DEFINE_PRIMITIVE</a>(load_into_environment, 0){
<a name="l00236"></a>00236   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* env;
<a name="l00237"></a>00237   <span class="keywordtype">char</span>* name;
<a name="l00238"></a>00238   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* path_list;
<a name="l00239"></a>00239   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, env);
<a name="l00240"></a>00240   <a class="code" href="strings_8h.html#824a7e289eed7894d1dec1c9a11505b6">DFSCH_STRING_OR_SYMBOL_ARG</a>(args, name);
<a name="l00241"></a>00241   <a class="code" href="dfsch_8h.html#28516300b9d99c9e9b073a6274e2ccbf">DFSCH_OBJECT_ARG_OPT</a>(args, path_list, NULL);
<a name="l00242"></a>00242   <a class="code" href="dfsch_8h.html#8c247d26136de4e55eb78870c15b19df">DFSCH_ARG_END</a>(args);
<a name="l00243"></a>00243   
<a name="l00244"></a>00244   <a class="code" href="load_8h.html#7dc45656ae7cd8dc34a28d035712c2b0">dfsch_load</a>(env, name, path_list);
<a name="l00245"></a>00245   <span class="keywordflow">return</span> NULL;
<a name="l00246"></a>00246 }
<a name="l00247"></a>00247 
<a name="l00248"></a><a class="code" href="introspect_8c.html#e93f95656e7891ba4d3b022a525b3f72">00248</a> <a class="code" href="dfsch_2types_8h.html#a16d7f58f1b7cc578eb70966b58b2d7b">DFSCH_DEFINE_PRIMITIVE</a>(make_environment, 0){
<a name="l00249"></a>00249   <a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* parent;
<a name="l00250"></a>00250   <a class="code" href="dfsch_8h.html#635e617c3e0548d867b6cb04c4c8331c">DFSCH_OBJECT_ARG</a>(args, parent);
<a name="l00251"></a>00251   <a class="code" href="dfsch_8h.html#8c247d26136de4e55eb78870c15b19df">DFSCH_ARG_END</a>(args);
<a name="l00252"></a>00252 
<a name="l00253"></a>00253   <span class="keywordflow">return</span> <a class="code" href="dfsch_8h.html#8eb433e5eb23587eeb5102f25012e5d8">dfsch_new_frame</a>(parent);
<a name="l00254"></a>00254 }
<a name="l00255"></a><a class="code" href="introspect_8c.html#f261e7b70a02b69c9636770e85589021">00255</a> <a class="code" href="dfsch_2types_8h.html#a16d7f58f1b7cc578eb70966b58b2d7b">DFSCH_DEFINE_PRIMITIVE</a>(make_empty_environment, 0){
<a name="l00256"></a>00256   <a class="code" href="dfsch_8h.html#8c247d26136de4e55eb78870c15b19df">DFSCH_ARG_END</a>(args);
<a name="l00257"></a>00257 
<a name="l00258"></a>00258   <span class="keywordflow">return</span> <a class="code" href="dfsch_8h.html#8eb433e5eb23587eeb5102f25012e5d8">dfsch_new_frame</a>(NULL);
<a name="l00259"></a>00259 }
<a name="l00260"></a><a class="code" href="introspect_8c.html#8bd85fab0abae946955d3f6e30d12be0">00260</a> <a class="code" href="dfsch_2types_8h.html#a16d7f58f1b7cc578eb70966b58b2d7b">DFSCH_DEFINE_PRIMITIVE</a>(make_default_environment, 0){
<a name="l00261"></a>00261   <a class="code" href="dfsch_8h.html#8c247d26136de4e55eb78870c15b19df">DFSCH_ARG_END</a>(args);
<a name="l00262"></a>00262 
<a name="l00263"></a>00263   <span class="keywordflow">return</span> <a class="code" href="dfsch_8h.html#f69d7de87ba6a964e00e93c4aa57275e">dfsch_make_context</a>();
<a name="l00264"></a>00264 }
<a name="l00265"></a>00265 
<a name="l00266"></a><a class="code" href="introspect_8c.html#17e0ad844cef74425aaec15a4ee353a7">00266</a> <span class="keywordtype">void</span> <a class="code" href="introspect_8h.html#17e0ad844cef74425aaec15a4ee353a7">dfsch_introspect_register</a>(<a class="code" href="structdfsch__object__t.html">dfsch_object_t</a>* env){
<a name="l00267"></a>00267   <a class="code" href="load_8h.html#bc24abbbca152e9ab52394ba2f99bb87">dfsch_provide</a>(env, <span class="stringliteral">"introspect"</span>);
<a name="l00268"></a>00268 
<a name="l00269"></a>00269   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(env, <span class="stringliteral">"set-invoke-debugger-on-all-conditions!"</span>, 
<a name="l00270"></a>00270                     <a class="code" href="dfsch_2types_8h.html#b4afde03ccb31e625afc203ea24a3256">DFSCH_PRIMITIVE_REF</a>(set_invoke_debugger_on_all_conditions));
<a name="l00271"></a>00271   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(env, <span class="stringliteral">"set-debugger!"</span>, <a class="code" href="dfsch_2types_8h.html#b4afde03ccb31e625afc203ea24a3256">DFSCH_PRIMITIVE_REF</a>(set_debugger));
<a name="l00272"></a>00272   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(env, <span class="stringliteral">"enter-debugger"</span>, 
<a name="l00273"></a>00273                     <a class="code" href="dfsch_2types_8h.html#b4afde03ccb31e625afc203ea24a3256">DFSCH_PRIMITIVE_REF</a>(enter_debugger));
<a name="l00274"></a>00274 
<a name="l00275"></a>00275   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(env, <span class="stringliteral">"lookup-in-environment"</span>,
<a name="l00276"></a>00276                     <a class="code" href="dfsch_2types_8h.html#b4afde03ccb31e625afc203ea24a3256">DFSCH_PRIMITIVE_REF</a>(lookup_in_environment));
<a name="l00277"></a>00277   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(env, <span class="stringliteral">"set-in-environment!"</span>,
<a name="l00278"></a>00278                     <a class="code" href="dfsch_2types_8h.html#b4afde03ccb31e625afc203ea24a3256">DFSCH_PRIMITIVE_REF</a>(set_in_environment));
<a name="l00279"></a>00279   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(env, <span class="stringliteral">"unset-from-environment!"</span>,
<a name="l00280"></a>00280                     <a class="code" href="dfsch_2types_8h.html#b4afde03ccb31e625afc203ea24a3256">DFSCH_PRIMITIVE_REF</a>(unset_from_environment));
<a name="l00281"></a>00281   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(env, <span class="stringliteral">"define-in-environment!"</span>,
<a name="l00282"></a>00282                     <a class="code" href="dfsch_2types_8h.html#b4afde03ccb31e625afc203ea24a3256">DFSCH_PRIMITIVE_REF</a>(define_in_environment));
<a name="l00283"></a>00283   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(env, <span class="stringliteral">"get-variables"</span>,
<a name="l00284"></a>00284                     <a class="code" href="dfsch_2types_8h.html#b4afde03ccb31e625afc203ea24a3256">DFSCH_PRIMITIVE_REF</a>(get_variables));
<a name="l00285"></a>00285   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(env, <span class="stringliteral">"load-into-environment!"</span>,
<a name="l00286"></a>00286                     <a class="code" href="dfsch_2types_8h.html#b4afde03ccb31e625afc203ea24a3256">DFSCH_PRIMITIVE_REF</a>(load_into_environment));
<a name="l00287"></a>00287 
<a name="l00288"></a>00288   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(env, <span class="stringliteral">"make-environment"</span>,
<a name="l00289"></a>00289                     <a class="code" href="dfsch_2types_8h.html#b4afde03ccb31e625afc203ea24a3256">DFSCH_PRIMITIVE_REF</a>(make_environment));
<a name="l00290"></a>00290   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(env, <span class="stringliteral">"make-empty-environment"</span>,
<a name="l00291"></a>00291                     <a class="code" href="dfsch_2types_8h.html#b4afde03ccb31e625afc203ea24a3256">DFSCH_PRIMITIVE_REF</a>(make_empty_environment));
<a name="l00292"></a>00292   <a class="code" href="dfsch_8h.html#ced9beff50ffd827c21ca62715d58e77">dfsch_define_cstr</a>(env, <span class="stringliteral">"make-default-environment"</span>,
<a name="l00293"></a>00293                     <a class="code" href="dfsch_2types_8h.html#b4afde03ccb31e625afc203ea24a3256">DFSCH_PRIMITIVE_REF</a>(make_default_environment));
<a name="l00294"></a>00294 }
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jul 3 16:02:13 2009 for dfsch by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
